/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var rc=Object.create;var Or=Object.defineProperty;var nc=Object.getOwnPropertyDescriptor;var oc=Object.getOwnPropertyNames;var ic=Object.getPrototypeOf,sc=Object.prototype.hasOwnProperty;var is=e=>{throw TypeError(e)};var ac=(e,t,r)=>t in e?Or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var lc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cc=(e,t)=>{for(var r in t)Or(e,r,{get:t[r],enumerable:!0})},ss=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oc(t))!sc.call(e,o)&&o!==r&&Or(e,o,{get:()=>t[o],enumerable:!(n=nc(t,o))||n.enumerable});return e};var as=(e,t,r)=>(r=e!=null?rc(ic(e)):{},ss(t||!e||!e.__esModule?Or(r,"default",{value:e,enumerable:!0}):r,e)),fc=e=>ss(Or({},"__esModule",{value:!0}),e);var Ne=(e,t,r)=>ac(e,typeof t!="symbol"?t+"":t,r),ls=(e,t,r)=>t.has(e)||is("Cannot "+r);var de=(e,t,r)=>(ls(e,t,"read from private field"),r?r.call(e):t.get(e)),Cn=(e,t,r)=>t.has(e)?is("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),kn=(e,t,r,n)=>(ls(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Mo=lc(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var U=require("obsidian"),No="YYYY-MM-DD",Po="gggg-[W]ww",cs="YYYY-MM",fs="YYYY-[Q]Q",us="YYYY";function Fr(e){let t=window.app.plugins.getPlugin("periodic-notes");return t&&t.settings?.[e]?.enabled}function Yr(){try{let{internalPlugins:e,plugins:t}=window.app;if(Fr("daily")){let{format:i,folder:s,template:a}=t.getPlugin("periodic-notes")?.settings?.daily||{};return{format:i||No,folder:s?.trim()||"",template:a?.trim()||""}}let{folder:r,format:n,template:o}=e.getPluginById("daily-notes")?.instance?.options||{};return{format:n||No,folder:r?.trim()||"",template:o?.trim()||""}}catch(e){console.info("No custom daily note settings found!",e)}}function Wr(){try{let e=window.app.plugins,t=e.getPlugin("calendar")?.options,r=e.getPlugin("periodic-notes")?.settings?.weekly;if(Fr("weekly"))return{format:r.format||Po,folder:r.folder?.trim()||"",template:r.template?.trim()||""};let n=t||{};return{format:n.weeklyNoteFormat||Po,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(e){console.info("No custom weekly note settings found!",e)}}function Hr(){let e=window.app.plugins;try{let t=Fr("monthly")&&e.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:t.format||cs,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom monthly note settings found!",t)}}function Vr(){let e=window.app.plugins;try{let t=Fr("quarterly")&&e.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:t.format||fs,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom quarterly note settings found!",t)}}function Gr(){let e=window.app.plugins;try{let t=Fr("yearly")&&e.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:t.format||us,folder:t.folder?.trim()||"",template:t.template?.trim()||""}}catch(t){console.info("No custom yearly note settings found!",t)}}function ps(...e){let t=[];for(let n=0,o=e.length;n<o;n++)t=t.concat(e[n].split("/"));let r=[];for(let n=0,o=t.length;n<o;n++){let i=t[n];!i||i==="."||r.push(i)}return t[0]===""&&r.unshift(""),r.join("/")}function uc(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function pc(e){let t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){let r=ps(...t);window.app.vault.getAbstractFileByPath(r)||await window.app.vault.createFolder(r)}}async function zr(e,t){t.endsWith(".md")||(t+=".md");let r=U.normalizePath(ps(e,t));return await pc(r),r}async function Jt(e){let{metadataCache:t,vault:r}=window.app,n=U.normalizePath(e);if(n==="/")return Promise.resolve(["",null]);try{let o=t.getFirstLinkpathDest(n,""),i=await r.cachedRead(o),s=window.app.foldManager.load(o);return[i,s]}catch(o){return console.error(`Failed to read the daily note template '${n}'`,o),new U.Notice("Failed to read the daily note template"),["",null]}}function He(e,t="day"){let r=e.clone().startOf(t).format();return`${t}-${r}`}function ds(e){return e.replace(/\[[^\]]*\]/g,"")}function dc(e,t){if(t==="week"){let r=ds(e);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function er(e,t){return ms(e.basename,t)}function mc(e,t){return ms(uc(e),t)}function ms(e,t){let n={day:Yr,week:Wr,month:Hr,quarter:Vr,year:Gr}[t]().format.split("/").pop(),o=window.moment(e,n,!0);if(!o.isValid())return null;if(dc(n,t)&&t==="week"){let i=ds(n);if(/w{1,2}/i.test(i))return window.moment(e,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return o}var Do=class extends Error{};async function hs(e){let t=window.app,{vault:r}=t,n=window.moment,{template:o,format:i,folder:s}=Yr(),[a,l]=await Jt(o),c=e.format(i),f=await zr(s,c);try{let u=await r.create(f,a.replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,d,_,g,v,b)=>{let S=n(),L=e.clone().set({hour:S.get("hour"),minute:S.get("minute"),second:S.get("second")});return _&&L.add(parseInt(g,10),v),b?L.format(b.substring(1).trim()):L.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(u,l),u}catch(u){console.error(`Failed to create file: '${f}'`,u),new U.Notice("Unable to create new file.")}}function hc(e,t){return t[He(e,"day")]??null}function _c(){let{vault:e}=window.app,{folder:t}=Yr(),r=e.getAbstractFileByPath(U.normalizePath(t));if(!r)throw new Do("Failed to find daily notes folder");let n={};return U.Vault.recurseChildren(r,o=>{if(o instanceof U.TFile){let i=er(o,"day");if(i){let s=He(i,"day");n[s]=o}}}),n}var $o=class extends Error{};function gc(){let{moment:e}=window,t=e.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)r.push(r.shift()),t--;return r}function vc(e){return gc().indexOf(e.toLowerCase())}async function _s(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Wr(),[i,s]=await Jt(r),a=e.format(n),l=await zr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,u,p,d,_,g)=>{let v=window.moment(),b=e.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return p&&b.add(parseInt(d,10),_),g?b.format(g.substring(1).trim()):b.format(n)}).replace(/{{\s*title\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(f,u,p)=>{let d=vc(u);return e.weekday(d).format(p.trim())}));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new U.Notice("Unable to create new file.")}}function bc(e,t){return t[He(e,"week")]??null}function Ac(){let e={};if(!vs())return e;let{vault:t}=window.app,{folder:r}=Wr(),n=t.getAbstractFileByPath(U.normalizePath(r));if(!n)throw new $o("Failed to find weekly notes folder");return U.Vault.recurseChildren(n,o=>{if(o instanceof U.TFile){let i=er(o,"week");if(i){let s=He(i,"week");e[s]=o}}}),e}var So=class extends Error{};async function gs(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Hr(),[i,s]=await Jt(r),a=e.format(n),l=await zr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,u,p,d,_,g)=>{let v=window.moment(),b=e.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return p&&b.add(parseInt(d,10),_),g?b.format(g.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new U.Notice("Unable to create new file.")}}function wc(e,t){return t[He(e,"month")]??null}function yc(){let e={};if(!bs())return e;let{vault:t}=window.app,{folder:r}=Hr(),n=t.getAbstractFileByPath(U.normalizePath(r));if(!n)throw new So("Failed to find monthly notes folder");return U.Vault.recurseChildren(n,o=>{if(o instanceof U.TFile){let i=er(o,"month");if(i){let s=He(i,"month");e[s]=o}}}),e}var Ro=class extends Error{};async function xc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Vr(),[i,s]=await Jt(r),a=e.format(n),l=await zr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,u,p,d,_,g)=>{let v=window.moment(),b=e.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return p&&b.add(parseInt(d,10),_),g?b.format(g.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new U.Notice("Unable to create new file.")}}function Ec(e,t){return t[He(e,"quarter")]??null}function Cc(){let e={};if(!As())return e;let{vault:t}=window.app,{folder:r}=Vr(),n=t.getAbstractFileByPath(U.normalizePath(r));if(!n)throw new Ro("Failed to find quarterly notes folder");return U.Vault.recurseChildren(n,o=>{if(o instanceof U.TFile){let i=er(o,"quarter");if(i){let s=He(i,"quarter");e[s]=o}}}),e}var Lo=class extends Error{};async function kc(e){let{vault:t}=window.app,{template:r,format:n,folder:o}=Gr(),[i,s]=await Jt(r),a=e.format(n),l=await zr(o,a);try{let c=await t.create(l,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(f,u,p,d,_,g)=>{let v=window.moment(),b=e.clone().set({hour:v.get("hour"),minute:v.get("minute"),second:v.get("second")});return p&&b.add(parseInt(d,10),_),g?b.format(g.substring(1).trim()):b.format(n)}).replace(/{{\s*date\s*}}/gi,a).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,a));return window.app.foldManager.save(c,s),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new U.Notice("Unable to create new file.")}}function Tc(e,t){return t[He(e,"year")]??null}function Ic(){let e={};if(!ws())return e;let{vault:t}=window.app,{folder:r}=Gr(),n=t.getAbstractFileByPath(U.normalizePath(r));if(!n)throw new Lo("Failed to find yearly notes folder");return U.Vault.recurseChildren(n,o=>{if(o instanceof U.TFile){let i=er(o,"year");if(i){let s=He(i,"year");e[s]=o}}}),e}function Nc(){let{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;let r=e.plugins.getPlugin("periodic-notes");return r&&r.settings?.daily?.enabled}function vs(){let{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;let t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.weekly?.enabled}function bs(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.monthly?.enabled}function As(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.quarterly?.enabled}function ws(){let{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&t.settings?.yearly?.enabled}function Pc(e){let t={day:Yr,week:Wr,month:Hr,quarter:Vr,year:Gr}[e];return t()}function Dc(e,t){return{day:hs,month:gs,week:_s}[e](t)}H.DEFAULT_DAILY_NOTE_FORMAT=No;H.DEFAULT_MONTHLY_NOTE_FORMAT=cs;H.DEFAULT_QUARTERLY_NOTE_FORMAT=fs;H.DEFAULT_WEEKLY_NOTE_FORMAT=Po;H.DEFAULT_YEARLY_NOTE_FORMAT=us;H.appHasDailyNotesPluginLoaded=Nc;H.appHasMonthlyNotesPluginLoaded=bs;H.appHasQuarterlyNotesPluginLoaded=As;H.appHasWeeklyNotesPluginLoaded=vs;H.appHasYearlyNotesPluginLoaded=ws;H.createDailyNote=hs;H.createMonthlyNote=gs;H.createPeriodicNote=Dc;H.createQuarterlyNote=xc;H.createWeeklyNote=_s;H.createYearlyNote=kc;H.getAllDailyNotes=_c;H.getAllMonthlyNotes=yc;H.getAllQuarterlyNotes=Cc;H.getAllWeeklyNotes=Ac;H.getAllYearlyNotes=Ic;H.getDailyNote=hc;H.getDailyNoteSettings=Yr;H.getDateFromFile=er;H.getDateFromPath=mc;H.getDateUID=He;H.getMonthlyNote=wc;H.getMonthlyNoteSettings=Hr;H.getPeriodicNoteSettings=Pc;H.getQuarterlyNote=Ec;H.getQuarterlyNoteSettings=Vr;H.getTemplateInfo=Jt;H.getWeeklyNote=bc;H.getWeeklyNoteSettings=Wr;H.getYearlyNote=Tc;H.getYearlyNoteSettings=Gr});var rd={};cc(rd,{default:()=>Eo});module.exports=fc(rd);var Co=require("obsidian"),Kl=as(Mo());var ys="YYYYMMDD",xs=/(?<target>{{date:?(?<date>[^}]*)}})/g,Es="Day Planner-{{date}}.md",Tn=`## Day Planner
- [ ] `,tr="timeline";var j={lineColor:"#CAD5CA",timelineColorBegin:"#008183",timelineColorEnd:"#4d194d",timelineHoverColorBegin:"#83003f",timelineHoverColorEnd:"#5d0e2e"},Cs=["any-key","audio-file","blocks","broken-link","bullet-list","calendar-with-checkmark","checkmark","create-new","cross","cross-in-box","crossed-star","dice","document","documents","dot-network","enter","expand-vertically","filled-pin","folder","gear","go-to-file","hashtag","help","horizontal-split","image-file","info","install","languages","left-arrow","left-arrow-with-tail","lines-of-text","link","logo-crystal","magnifying-glass","microphone","microphone-filled","open-vault","pane-layout","paper-plane","pdf-file","pencil","pin","popup-open","presentation","reset","right-arrow","right-arrow-with-tail","right-triangle","search","sheets-in-box","star","star-list","switch","three-horizontal-bars","trash","two-columns","up-and-down-arrows","uppercase-lowercase-a","vault","vertical-split","vertical-three-dots"];var Nn=require("obsidian"),Pn=as(Mo());var V=class e{static getInstance(){return e.instance||(e.instance=new e),e.instance}updateSettings(t){this.settings=t}logDebug(t,...r){(!this.settings||this.settings.debug)&&console.debug("(DP)",t,...r)}logInfo(t,...r){console.info("(DP)",t,...r)}logError(t,...r){console.error("(DP)",t,...r)}};var Mt=class{replace(t){let r=t,n=[...r.matchAll(xs)];if(n.length===0)return t;let o=new Date,i=n.map(a=>{let l=a.groups.date===""?ys:a.groups.date;return[a.groups.target,this.getMoment(o,l)]}),s=r;for(let a of i)s=s.replace(a[0],a[1]);return s}getMoment(t,r){return window.moment(t).format(r)}};var In=class{constructor(){this.customFolder="Day Planners";this.debug=!1;this.mode="File";this.mermaid=!1;this.notesToDates=[];this.completePastItems=!0;this.circularProgress=!1;this.nowAndNextInStatusBar=!1;this.showTaskNotification=!1;this.timelineZoomLevel=4;this.timelineIcon="calendar-with-checkmark";this.plannerLabel="Day Planner";this.breakLabel="BREAK";this.endLabel="END";this.markCurrent=!1;this.correctLabels=!0;this.writer=void 0;this.preserveValues="-"}},rr=class{constructor(t,r){this.notePath=t,this.date=r}},At=class{exists(t){return t&&this.active(t)!==void 0}active(t){let r=new Date().toDateString();return t?.filter(n=>n.date===r)[0]}},ut=(n=>(n.File="File",n.Command="Command",n.Daily="Daily",n))(ut||{});var Zr=class{constructor(t,r){this.vault=t,this.settings=r,this.momentDateRegex=new Mt,this.noteForDateQuery=new At}async hasTodayNote(){if(this.settings.mode==="Daily"&&(0,Pn.appHasDailyNotesPluginLoaded)()){let t=new Date,{folder:r,format:n}=(0,Pn.getDailyNoteSettings)(),o=`${this.momentDateRegex.getMoment(t,n)}.md`,i=(0,Nn.normalizePath)(`${r}/${o}`);if(await this.vault.adapter.exists(i)){let s=new rr(i,t.toDateString());return this.settings.notesToDates=[s],!0}return!1}return this.settings.mode==="File"||this.noteForDateQuery.exists(this.settings.notesToDates)}todayPlannerFilePath(){if(this.settings.mode==="Command"||this.settings.mode==="Daily")return this.noteForDateQuery.active(this.settings.notesToDates)?.notePath;let t=this.todayPlannerFileName();return`${this.settings.customFolder??"Day Planners"}/${t}`}todayPlannerFileName(){return this.momentDateRegex.replace(Es)}async prepareFile(){try{this.settings.mode==="File"&&(await this.createFolderIfNotExists(this.settings.customFolder),await this.createFileIfNotExists(this.todayPlannerFilePath()))}catch(t){V.getInstance().logError("error updating file settings",t)}}async createFolderIfNotExists(t){try{let r=(0,Nn.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.createFolder(r)}catch(r){V.getInstance().logError("error creating folder",t,r)}}async createFileIfNotExists(t){try{let r=(0,Nn.normalizePath)(t);await this.vault.adapter.exists(r,!1)||await this.vault.create(r,Tn)}catch(r){V.getInstance().logError("file does not exist",t,r)}}async processFile(t,r){try{return await this.vault.adapter.process(t,r)}catch(n){V.getInstance().logError("error processing file",t,n)}}};var tt=class{constructor(t,r){this.iAmWriter=r,this.empty=t.length<1,this.invalid=!1,this.items=t,this.past=[]}addItem(t){this.items.push(t),this.empty=!1}calculate(t){try{if(this.items.sort((r,n)=>r.time.getTime()-n.time.getTime()),this.items.length===0){this.empty=!0;return}this.items.forEach((r,n)=>{let o=this.items[n+1];if(r.time<t&&(r.isEnd||o&&t<o.time)?(this.current=r,r.isEnd&&(r.isPast=!0,this.past.push(r)),this.next=r.isEnd?null:o):r.time<t&&(r.isPast=!0,this.past.push(r)),o){let i=window.moment,s=i.duration(i(o.time).diff(i(r.time))).asMinutes();r.durationMins=s}})}catch(r){V.getInstance().logError("error updating item status",r)}}isCurrent(t){return t===this.current}},Bo=class{constructor(t,r,n,o,i,s,a,l,c){this.line=t,this.charIndex=r,this.status=n,this.isBreak=o,this.isEnd=i,this.time=s,this.rawTime=a,this.text=l,this.raw=c}},Dn=class{constructor(t){this.settings=t}getPlanItem(t,r,n,o,i,s,a,l,c){let f=this.getDisplayText(o,i,l);return new Bo(t,r,n,o,i,s,a,f,c)}getDisplayText(t,r,n){return t&&this.settings.correctLabels?this.settings.breakLabel:r&&this.settings.correctLabels?this.settings.endLabel:n}};var Ur=class{constructor(t){this.updateSettings(t),this.PLAN_PARSER_REGEX=/^(-?[\s]*\[?(?<completion>.)\]\s*?(?<hours>\d{1,2}):(?<minutes>\d{2})\s(?<text>.*?))$/i}updateSettings(t){this.settings=t,this.planItemFactory=new Dn(t),this.PLAN_START=`# ${this.settings.plannerLabel}`;let r=this.sanitize(t.breakLabel),n=this.sanitize(t.endLabel);this.PLAN_BREAK=new RegExp(`^${r}(?=\\b|$)`,"i"),this.PLAN_END=new RegExp(`^${n}(?=\\b|$)`,"i")}sanitize(t){return t.replace(/\./g,"\\.").replace(/\*/g,"\\*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]")}parseContent(t,r,n){let o=!1,i=t.split(`
`);if(i.forEach((s,a)=>{if(s.length!==0)if(o){if(s==="---"){o=!1;return}let l=this.parseLine(a,s);l&&(r.addItem(l),o=!l.isEnd)}else s.trim().endsWith(this.PLAN_START)&&(o=!0)}),r.calculate(n),!r.empty&&r.iAmWriter)for(let s of r.items){let a=this.updateItemCompletion(s,r);i[s.line]=a}return i.join(`
`)}parseLine(t,r){try{let n=this.PLAN_PARSER_REGEX.exec(r);if(n){let o=n,i=o.groups.text,s=this.matches(i,this.PLAN_BREAK),a=this.matches(i,this.PLAN_END),l=new Date;return l.setHours(Number.parseInt(o.groups.hours)),l.setMinutes(Number.parseInt(o.groups.minutes)),l.setSeconds(0),this.planItemFactory.getPlanItem(t,o.index,o.groups.completion,s,a,l,`${o.groups.hours.padStart(2,"0")}:${o.groups.minutes}`,i,o[0])}}catch(n){V.getInstance().logError("error parsing line",r,n)}}updateItemCompletion(t,r){let n=t.status;return this.settings.completePastItems&&(this.settings.preserveValues.includes(n)||(t.isPast?n="x":this.settings.markCurrent&&r.isCurrent(t)?n="/":n=" ")),`- [${n}] ${t.rawTime} ${t.text}`}matches(t,r){return r.test(t.trim())}};var Oo=require("obsidian");var nr=class{constructor(t,r,n,o,i){this.workspace=t,this.settings=r,this.file=n,this.parser=o,this.progress=i,this.noteForDateQuery=new At}async insertPlanner(){let t=this.file.todayPlannerFilePath(),n=this.workspace.getActiveViewOfType(Oo.MarkdownView).editor.getCursor().line;await this.file.processFile(t,o=>{let i=o.split(`
`);return[...i.slice(0,n),...Tn.split(`
`),...i.slice(n)].join(`
`)})}async processDayPlanner(t){try{await this.file.prepareFile();let r=this.file.todayPlannerFilePath(),n=new tt([],t),o=new Date;return await this.file.processFile(r,i=>this.parser.parseContent(i,n,o)),n}catch(r){V.getInstance().logError("error processing file",t,this.file,r)}}checkIsDayPlannerEditing(){let t=this.workspace.getActiveViewOfType(Oo.MarkdownView);if(t==null)return;let r=t.getState(),n=this.file.todayPlannerFilePath();n&&r.file===n&&(this.dayPlannerLastEdit=new Date().getTime())}};var or=window.moment,jr=class{getProgress(t,r){try{let o=or(new Date),i=or(t.time),s=or(r.time),a=or.duration(s.diff(i)),l=or.duration(o.diff(i)),c=or.duration(s.diff(o)),f=l.asMinutes()/a.asMinutes()*100,u=c.asMinutes().toFixed(0);return{percentageComplete:f,minsUntilNext:u}}catch(n){V.getInstance().logError("error updating progress",t,r,n)}}progressMarkdown(t,r){try{let{percentageComplete:n}=this.getProgress(t,r),o=Math.floor(20*(n/100));return new Array(o).join("->")+new Array(20-o).join("_ ")}catch(n){V.getInstance().logError("error updating markdown",t,r,n)}}};var re=require("obsidian");var $n=class extends re.PluginSettingTab{constructor(r,n){super(r,n);this.momentDateRegex=new Mt;this.plugin=n}async save(){await this.plugin.saveData(this.plugin.settings),V.getInstance().logDebug("Settings saved")}hide(){this.save()}display(){let{containerEl:r}=this;r.empty(),new re.Setting(r).setName("Day Planner mode").setDesc(this.modeDescriptionContent()).addDropdown(o=>o.addOption(ut.File,"File mode").addOption(ut.Command,"Command mode").addOption(ut.Daily,"Daily mode").setValue(ut[this.plugin.settings.mode]||"File".toString()).onChange(i=>{this.plugin.settings.mode=ut[i]})),new re.Setting(r).setName("Complete past planner items").setDesc("The plugin will automatically mark checkboxes for tasks and breaks in the past as complete (x)").addToggle(o=>o.setValue(this.plugin.settings.completePastItems).onChange(i=>{this.plugin.settings.completePastItems=i})),new re.Setting(r).setName("Mark in progress planner item").setDesc("The plugin will automatically mark the textbox for the current item as in progress (/)").addToggle(o=>o.setValue(this.plugin.settings.markCurrent).onChange(i=>{this.plugin.settings.markCurrent=i})),new re.Setting(r).setName("Status bar - circular progress").setDesc("Display a circular progress bar in the status bar").addToggle(o=>o.setValue(this.plugin.settings.circularProgress).onChange(i=>{this.plugin.settings.circularProgress=i})),new re.Setting(r).setName("Status bar - now and next").setDesc("Display now and next tasks in the status bar").addToggle(o=>o.setValue(this.plugin.settings.nowAndNextInStatusBar).onChange(i=>{this.plugin.settings.nowAndNextInStatusBar=i})),new re.Setting(r).setName("Task notification").setDesc("Display a notification when a new task is started").addToggle(o=>o.setValue(this.plugin.settings.showTaskNotification).onChange(i=>{this.plugin.settings.showTaskNotification=i})),new re.Setting(r).setName("Timeline zoom level").setDesc("The zoom level to display the timeline. The higher the number, the more vertical space each task will take up.").addSlider(o=>o.setLimits(1,5,1).setValue(this.plugin.settings.timelineZoomLevel??4).setDynamicTooltip().onChange(i=>{this.plugin.settings.timelineZoomLevel=i})),new re.Setting(r).setName("Timeline icon").setDesc("The icon of the timeline pane. Reopen timeline pane or restart obsidian to see the change.").addDropdown(o=>{for(let i of Cs)o.addOption(i,i);return o.setValue(this.plugin.settings.timelineIcon??"calendar-with-checkmark").onChange(i=>{this.plugin.settings.timelineIcon=i})});let n={};new re.Setting(r).setName("Timeline colors").setDesc("Gradient colors for the timeline (line, begin, end, hover begin, hover end, reset).").addColorPicker(o=>{o.setValue(this.plugin.settings.lineColor??j.lineColor).onChange(i=>{this.plugin.settings.lineColor=i}),n.lineColor=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorBegin??j.timelineColorBegin).onChange(i=>{this.plugin.settings.timelineColorBegin=i}),n.timelineColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineColorEnd??j.timelineColorEnd).onChange(i=>{this.plugin.settings.timelineColorEnd=i}),n.timelineColorEnd=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorBegin??j.timelineHoverColorBegin).onChange(i=>{this.plugin.settings.timelineHoverColorBegin=i}),n.timelineHoverColorBegin=o}).addColorPicker(o=>{o.setValue(this.plugin.settings.timelineHoverColorEnd??j.timelineHoverColorEnd).onChange(i=>{this.plugin.settings.timelineHoverColorEnd=i}),n.timelineHoverColorEnd=o}).addExtraButton(o=>{o.setTooltip("Reset to default colors").setIcon("reset").onClick(()=>{this.plugin.settings.lineColor=j.lineColor,n.lineColor.setValue(j.lineColor),this.plugin.settings.timelineColorBegin=j.timelineColorBegin,n.timelineColorBegin.setValue(j.timelineColorBegin),this.plugin.settings.timelineColorEnd=j.timelineColorEnd,n.timelineColorEnd.setValue(j.timelineColorEnd),this.plugin.settings.timelineHoverColorBegin=j.timelineHoverColorBegin,n.timelineHoverColorBegin.setValue(j.timelineHoverColorBegin),this.plugin.settings.timelineHoverColorEnd=j.timelineHoverColorEnd,n.timelineHoverColorEnd.setValue(j.timelineHoverColorEnd)})}),new re.Setting(r).setName("Day Planner heading").setDesc("Use this heading text to mark the beginning of the Day Planner.").addText(o=>o.setValue(this.plugin.settings.plannerLabel??"Day Planner").onChange(i=>{let s=i.trim();s.length>0&&(this.plugin.settings.plannerLabel=s)})),new re.Setting(r).setName("BREAK task label").setDesc("Use this label to mark break between tasks.").addText(o=>o.setValue(this.plugin.settings.breakLabel??"BREAK").onChange(i=>{this.plugin.settings.breakLabel=i})),new re.Setting(r).setName("END task label").setDesc("Use this label to mark the end of all tasks.").addText(o=>o.setValue(this.plugin.settings.endLabel??"END").onChange(i=>{this.plugin.settings.endLabel=i})),new re.Setting(r).setName("Consistent BREAK and END labels").setDesc("Replace BREAK and END task text in your planner with the configured label text (consistency)").addToggle(o=>o.setValue(this.plugin.settings.correctLabels).onChange(i=>{this.plugin.settings.correctLabels=i})),new re.Setting(r).setName("Preserve task values").setDesc("Preserve these values in the schedule, for example '-' for canceled, or '>' for rescheduled.").addText(o=>o.setValue(this.plugin.settings.preserveValues||"-").onChange(i=>{let s=i;s.length>0&&(s=[...new Set(s)].join("").replace("x","")),this.plugin.settings.preserveValues=s})),new re.Setting(r).setName("Debug").setDesc("Enable debug messages").addToggle(o=>o.setValue(this.plugin.settings.debug).onChange(i=>{this.plugin.settings.debug=i}))}modeDescriptionContent(){let r=document.createDocumentFragment();return r.appendText("Choose between 3 modes to use the Day Planner plugin:"),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("File mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically generates day planner notes for each day within a Day Planners folder."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Command mode"),r.appendChild(document.createElement("br")),r.appendText("Command used to insert a Day Planner for today within the current note."),r.appendChild(document.createElement("br")),r.appendChild(document.createElement("strong")).appendText("Daily mode"),r.appendChild(document.createElement("br")),r.appendText("Plugin automatically links to the current daily note. Daily notes plugin must be enabled."),r.appendChild(document.createElement("br")),this.addDocsLink(r),r}addDocsLink(r){let n=document.createElement("a");n.href="https://github.com/ebullient/obsidian-day-planner-og/blob/main/README.md",n.text="plugin README",n.target="_blank",r.appendChild(n),r.appendChild(document.createElement("br"))}};var qr=class{constructor(t,r,n,o,i,s){this.settings=t,this.statusBar=r,this.workspace=n,this.progress=o,this.plannerMD=i,this.file=s}initStatusBar(){if(this.statusBarAdded)return;let t=this.statusBar.createEl("div",{cls:"day-planner",title:"View the Day Planner",prepend:!0});this.setupCard(t),this.statusBarText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupCircularProgressBar(t),this.setupHorizontalProgressBar(t),this.nextText=t.createEl("span",{cls:["status-bar-item-segment","day-planner-status-bar-text"]}),this.setupStatusBarEvents(t),this.statusBarAdded=!0}setupStatusBarEvents(t){t.onClickEvent(async()=>{try{let r=this.file.todayPlannerFilePath();this.workspace.openLinkText(r,"",!1)}catch(r){V.getInstance().logError("error opening file from status bar",this.file,r)}}),t.on("mouseenter",".day-planner",()=>{this.show(this.card)}),t.on("mouseleave",".day-planner",()=>{this.hide(this.card)})}async refreshStatusBar(t){return!t.empty&&!t.invalid?(this.updateProgress(t.current,t.next),this.show(this.statusBar)):this.hide(this.statusBar),t}hide(t){t&&(t.style.display="none")}show(t){t&&(t.style.display="block")}hideProgress(){this.hide(this.statusBarProgress),this.hide(this.circle),this.hide(this.nextText)}updateProgress(t,r){if(!t||!r||t.isEnd){this.hideProgress(),this.statusBarText.innerText=this.settings.endLabel;return}let{percentageComplete:n,minsUntilNext:o}=this.progress.getProgress(t,r);this.settings.circularProgress?(this.hide(this.statusBarProgress),this.progressCircle(n,t)):(this.hide(this.circle),this.progressBar(n,t)),this.statusText(o,t,r,n)}progressBar(t,r){r.isBreak?this.statusBarCurrentProgress.addClass("green"):this.statusBarCurrentProgress.removeClass("green"),this.statusBarCurrentProgress.style.width=`${t}%`,this.show(this.statusBarProgress)}progressCircle(t,r){r.isBreak?this.circle.addClass("green"):this.circle.removeClass("green"),this.circle.setAttr("data-value",t.toFixed(0)),this.show(this.circle)}statusText(t,r,n,o){let i=t==="0"?"1":t,s=`${i} min${i==="1"?"":"s"}`;if(this.settings.nowAndNextInStatusBar)this.statusBarText.innerHTML=`<strong>Now</strong> ${r.rawTime} ${this.ellipsis(r.text,10)}`,this.nextText.innerHTML=`<strong>Next</strong> ${n.rawTime} ${this.ellipsis(n.text,10)}`,this.show(this.nextText);else{this.hide(this.nextText);let u=r.isBreak?`${this.settings.breakLabel} for ${s}`:`${s} left`;this.statusBarText.innerText=u}let a=`Current Task (${o.toFixed(0)}% complete)`,l=`${r.rawTime} ${r.text}`,c=`Next Task (in ${s})`,f=`${n.rawTime} ${n.text}`;this.cardCurrent.innerHTML=`<strong>${a}</strong><br> ${l}`,this.cardNext.innerHTML=`<strong>${c}</strong><br> ${f}`,this.taskNotification(r,l,c,f)}taskNotification(t,r,n,o){this.settings.showTaskNotification&&this.currentTime!==void 0&&this.currentTime!==t.time.toUTCString()&&new Notification(`Task started, ${r}`,{body:`${n}: ${o}`,requireInteraction:!0}),this.currentTime=t.time.toUTCString()}ellipsis(t,r){return t.length<=r?t:`${t.substring(0,r)}...`}setupHorizontalProgressBar(t){this.statusBarProgress=t.createEl("div",{cls:["status-bar-item-segment","day-planner-progress-bar"]}),this.statusBarProgress.style.display="none",this.statusBarCurrentProgress=this.statusBarProgress.createEl("div",{cls:"day-planner-progress-value"})}setupCircularProgressBar(t){this.circle=t.createEl("div",{cls:["status-bar-item-segment","progress-pie day-planner"]})}setupCard(t){this.card=t.createEl("div",{cls:"day-planner-status-card"}),this.cardCurrent=this.card.createEl("span"),this.card.createEl("br"),this.card.createEl("br"),this.cardNext=this.card.createEl("span"),this.card.createEl("div",{cls:"arrow-down"})}};var{min:$c,max:Sc}=Math,Pe=(e,t=0,r=1)=>$c(Sc(t,e),r);var Bt=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=Pe(e[t],0,255)):t===3&&(e[t]=Pe(e[t],0,1));return e};var ks={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])ks[`[object ${e}]`]=e.toLowerCase();function E(e){return ks[Object.prototype.toString.call(e)]||"object"}var A=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):E(e[0])=="object"&&t?t.split("").filter(r=>e[0][r]!==void 0).map(r=>e[0][r]):e[0].slice(0);var Ce=e=>{if(e.length<2)return null;let t=e.length-1;return E(e[t])=="string"?e[t].toLowerCase():null};var{PI:Sn,min:Rn,max:Ln}=Math,oe=e=>Math.round(e*100)/100,Qr=e=>Math.round(e*100)/100,De=Sn*2,Mn=Sn/3,Ts=Sn/180,Is=180/Sn;function Bn(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}var k={format:{},autodetect:[]};var Fo=class{constructor(...t){let r=this;if(E(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=Ce(t),o=!1;if(!n){o=!0,k.sorted||(k.autodetect=k.autodetect.sort((i,s)=>s.p-i.p),k.sorted=!0);for(let i of k.autodetect)if(n=i.test(...t),n)break}if(k.format[n]){let i=k.format[n].apply(null,o?t:t.slice(0,-1));r._rgb=Bt(i)}else throw new Error("unknown format: "+t);r._rgb.length===3&&r._rgb.push(1)}toString(){return E(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}},m=Fo;var Ns="3.1.2";var Ps=(...e)=>new m(...e);Ps.version=Ns;var N=Ps;var Rc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},wt=Rc;var Lc=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Mc=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Bc=e=>{if(e.match(Lc)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let t=parseInt(e,16),r=t>>16,n=t>>8&255,o=t&255;return[r,n,o,1]}if(e.match(Mc)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=parseInt(e,16),r=t>>24&255,n=t>>16&255,o=t>>8&255,i=Math.round((t&255)/255*100)/100;return[r,n,o,i]}throw new Error(`unknown hex color: ${e}`)},On=Bc;var{round:Fn}=Math,Oc=(...e)=>{let[t,r,n,o]=A(e,"rgba"),i=Ce(e)||"auto";o===void 0&&(o=1),i==="auto"&&(i=o<1?"rgba":"rgb"),t=Fn(t),r=Fn(r),n=Fn(n);let a="000000"+(t<<16|r<<8|n).toString(16);a=a.substr(a.length-6);let l="0"+Fn(o*255).toString(16);switch(l=l.substr(l.length-2),i.toLowerCase()){case"rgba":return`#${a}${l}`;case"argb":return`#${l}${a}`;default:return`#${a}`}},Yn=Oc;m.prototype.name=function(){let e=Yn(this._rgb,"rgb");for(let t of Object.keys(wt))if(wt[t]===e)return t.toLowerCase();return e};k.format.named=e=>{if(e=e.toLowerCase(),wt[e])return On(wt[e]);throw new Error("unknown color name: "+e)};k.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&E(e)==="string"&&wt[e.toLowerCase()])return"named"}});m.prototype.alpha=function(e,t=!1){return e!==void 0&&E(e)==="number"?t?(this._rgb[3]=e,this):new m([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};m.prototype.clipped=function(){return this._rgb._clipped||!1};var Xr={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452,kE:.008856451679035631,kKE:8,kK:903.2962962962963,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},rt=Xr,Fc=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function $e(e){let t=Fc.get(String(e).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+e);Xr.labWhitePoint=e,Xr.Xn=t[0],Xr.Zn=t[1]}function yt(){return Xr.labWhitePoint}var Yc=(...e)=>{e=A(e,"lab");let[t,r,n]=e,[o,i,s]=Wc(t,r,n),[a,l,c]=Wo(o,i,s);return[a,l,c,e.length>3?e[3]:1]},Wc=(e,t,r)=>{let{kE:n,kK:o,kKE:i,Xn:s,Yn:a,Zn:l}=rt,c=(e+16)/116,f=.002*t+c,u=c-.005*r,p=f*f*f,d=u*u*u,_=p>n?p:(116*f-16)/o,g=e>i?Math.pow((e+16)/116,3):e/o,v=d>n?d:(116*u-16)/o,b=_*s,S=g*a,L=v*l;return[b,S,L]},Yo=e=>{let t=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*t},Wo=(e,t,r)=>{let{MtxAdaptMa:n,MtxAdaptMaI:o,MtxXYZ2RGB:i,RefWhiteRGB:s,Xn:a,Yn:l,Zn:c}=rt,f=a*n.m00+l*n.m10+c*n.m20,u=a*n.m01+l*n.m11+c*n.m21,p=a*n.m02+l*n.m12+c*n.m22,d=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,_=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,g=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,v=(e*n.m00+t*n.m10+r*n.m20)*(d/f),b=(e*n.m01+t*n.m11+r*n.m21)*(_/u),S=(e*n.m02+t*n.m12+r*n.m22)*(g/p),L=v*o.m00+b*o.m10+S*o.m20,M=v*o.m01+b*o.m11+S*o.m21,P=v*o.m02+b*o.m12+S*o.m22,y=Yo(L*i.m00+M*i.m10+P*i.m20),h=Yo(L*i.m01+M*i.m11+P*i.m21),x=Yo(L*i.m02+M*i.m12+P*i.m22);return[y*255,h*255,x*255]},ir=Yc;var Hc=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=Vo(t,r,n),[l,c,f]=Vc(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]};function Vc(e,t,r){let{Xn:n,Yn:o,Zn:i,kE:s,kK:a}=rt,l=e/n,c=t/o,f=r/i,u=l>s?Math.pow(l,1/3):(a*l+16)/116,p=c>s?Math.pow(c,1/3):(a*c+16)/116,d=f>s?Math.pow(f,1/3):(a*f+16)/116;return[116*p-16,500*(u-p),200*(p-d)]}function Ho(e){let t=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*t}var Vo=(e,t,r)=>{e=Ho(e/255),t=Ho(t/255),r=Ho(r/255);let{MtxRGB2XYZ:n,MtxAdaptMa:o,MtxAdaptMaI:i,Xn:s,Yn:a,Zn:l,As:c,Bs:f,Cs:u}=rt,p=e*n.m00+t*n.m10+r*n.m20,d=e*n.m01+t*n.m11+r*n.m21,_=e*n.m02+t*n.m12+r*n.m22,g=s*o.m00+a*o.m10+l*o.m20,v=s*o.m01+a*o.m11+l*o.m21,b=s*o.m02+a*o.m12+l*o.m22,S=p*o.m00+d*o.m10+_*o.m20,L=p*o.m01+d*o.m11+_*o.m21,M=p*o.m02+d*o.m12+_*o.m22;return S*=g/c,L*=v/f,M*=b/u,p=S*i.m00+L*i.m10+M*i.m20,d=S*i.m01+L*i.m11+M*i.m21,_=S*i.m02+L*i.m12+M*i.m22,[p,d,_]},sr=Hc;m.prototype.lab=function(){return sr(this._rgb)};var Gc=(...e)=>new m(...e,"lab");Object.assign(N,{lab:Gc,getLabWhitePoint:yt,setLabWhitePoint:$e});k.format.lab=ir;k.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"lab"),E(e)==="array"&&e.length===3)return"lab"}});m.prototype.darken=function(e=1){let t=this,r=t.lab();return r[0]-=rt.Kn*e,new m(r,"lab").alpha(t.alpha(),!0)};m.prototype.brighten=function(e=1){return this.darken(-e)};m.prototype.darker=m.prototype.darken;m.prototype.brighter=m.prototype.brighten;m.prototype.get=function(e){let[t,r]=e.split("."),n=this[t]();if(r){let o=t.indexOf(r)-(t.substr(0,2)==="ok"?2:0);if(o>-1)return n[o];throw new Error(`unknown channel ${r} in mode ${t}`)}else return n};var{pow:zc}=Math,Zc=1e-7,Uc=20;m.prototype.luminance=function(e,t="rgb"){if(e!==void 0&&E(e)==="number"){if(e===0)return new m([0,0,0,this._rgb[3]],"rgb");if(e===1)return new m([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=Uc,o=(s,a)=>{let l=s.interpolate(a,.5,t),c=l.luminance();return Math.abs(e-c)<Zc||!n--?l:c>e?o(s,l):o(l,a)},i=(r>e?o(new m([0,0,0]),this):o(this,new m([255,255,255]))).rgb();return new m([...i,this._rgb[3]])}return jc(...this._rgb.slice(0,3))};var jc=(e,t,r)=>(e=Go(e),t=Go(t),r=Go(r),.2126*e+.7152*t+.0722*r),Go=e=>(e/=255,e<=.03928?e/12.92:zc((e+.055)/1.055,2.4));var G={};var nt=(e,t,r=.5,...n)=>{let o=n[0]||"lrgb";if(!G[o]&&!n.length&&(o=Object.keys(G)[0]),!G[o])throw new Error(`interpolation mode ${o} is not defined`);return E(e)!=="object"&&(e=new m(e)),E(t)!=="object"&&(t=new m(t)),G[o](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};m.prototype.mix=m.prototype.interpolate=function(e,t=.5,...r){return nt(this,e,t,...r)};m.prototype.premultiply=function(e=!1){let t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new m([t[0]*r,t[1]*r,t[2]*r,r],"rgb")};var{sin:qc,cos:Qc}=Math,Xc=(...e)=>{let[t,r,n]=A(e,"lch");return isNaN(n)&&(n=0),n=n*Ts,[t,Qc(n)*r,qc(n)*r]},Wn=Xc;var Kc=(...e)=>{e=A(e,"lch");let[t,r,n]=e,[o,i,s]=Wn(t,r,n),[a,l,c]=ir(o,i,s);return[a,l,c,e.length>3?e[3]:1]},ar=Kc;var Jc=(...e)=>{let t=Bn(A(e,"hcl"));return ar(...t)},Ds=Jc;var{sqrt:ef,atan2:tf,round:rf}=Math,nf=(...e)=>{let[t,r,n]=A(e,"lab"),o=ef(r*r+n*n),i=(tf(n,r)*Is+360)%360;return rf(o*1e4)===0&&(i=Number.NaN),[t,o,i]},Hn=nf;var of=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=sr(t,r,n),[l,c,f]=Hn(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]},Kr=of;m.prototype.lch=function(){return Kr(this._rgb)};m.prototype.hcl=function(){return Bn(Kr(this._rgb))};var sf=(...e)=>new m(...e,"lch"),af=(...e)=>new m(...e,"hcl");Object.assign(N,{lch:sf,hcl:af});k.format.lch=ar;k.format.hcl=Ds;["lch","hcl"].forEach(e=>k.autodetect.push({p:2,test:(...t)=>{if(t=A(t,e),E(t)==="array"&&t.length===3)return e}}));m.prototype.saturate=function(e=1){let t=this,r=t.lch();return r[1]+=rt.Kn*e,r[1]<0&&(r[1]=0),new m(r,"lch").alpha(t.alpha(),!0)};m.prototype.desaturate=function(e=1){return this.saturate(-e)};m.prototype.set=function(e,t,r=!1){let[n,o]=e.split("."),i=this[n]();if(o){let s=n.indexOf(o)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(E(t)=="string")switch(t.charAt(0)){case"+":i[s]+=+t;break;case"-":i[s]+=+t;break;case"*":i[s]*=+t.substr(1);break;case"/":i[s]/=+t.substr(1);break;default:i[s]=+t}else if(E(t)==="number")i[s]=t;else throw new Error("unsupported value for Color.set");let a=new m(i,n);return r?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${o} in mode ${n}`)}else return i};m.prototype.tint=function(e=.5,...t){return nt(this,"white",e,...t)};m.prototype.shade=function(e=.5,...t){return nt(this,"black",e,...t)};var lf=(e,t,r)=>{let n=e._rgb,o=t._rgb;return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"rgb")};G.rgb=lf;var{sqrt:zo,pow:lr}=Math,cf=(e,t,r)=>{let[n,o,i]=e._rgb,[s,a,l]=t._rgb;return new m(zo(lr(n,2)*(1-r)+lr(s,2)*r),zo(lr(o,2)*(1-r)+lr(a,2)*r),zo(lr(i,2)*(1-r)+lr(l,2)*r),"rgb")};G.lrgb=cf;var ff=(e,t,r)=>{let n=e.lab(),o=t.lab();return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"lab")};G.lab=ff;var Se=(e,t,r,n)=>{let o,i;n==="hsl"?(o=e.hsl(),i=t.hsl()):n==="hsv"?(o=e.hsv(),i=t.hsv()):n==="hcg"?(o=e.hcg(),i=t.hcg()):n==="hsi"?(o=e.hsi(),i=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",o=e.hcl(),i=t.hcl()):n==="oklch"&&(o=e.oklch().reverse(),i=t.oklch().reverse());let s,a,l,c,f,u;(n.substr(0,1)==="h"||n==="oklch")&&([s,l,f]=o,[a,c,u]=i);let p,d,_,g;return!isNaN(s)&&!isNaN(a)?(a>s&&a-s>180?g=a-(s+360):a<s&&s-a>180?g=a+360-s:g=a-s,d=s+r*g):isNaN(s)?isNaN(a)?d=Number.NaN:(d=a,(f==1||f==0)&&n!="hsv"&&(p=c)):(d=s,(u==1||u==0)&&n!="hsv"&&(p=l)),p===void 0&&(p=l+r*(c-l)),_=f+r*(u-f),n==="oklch"?new m([_,p,d],n):new m([d,p,_],n)};var $s=(e,t,r)=>Se(e,t,r,"lch");G.lch=$s;G.hcl=$s;var uf=e=>{if(E(e)=="number"&&e>=0&&e<=16777215){let t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}throw new Error("unknown num color: "+e)},Ss=uf;var pf=(...e)=>{let[t,r,n]=A(e,"rgb");return(t<<16)+(r<<8)+n},Rs=pf;m.prototype.num=function(){return Rs(this._rgb)};var df=(...e)=>new m(...e,"num");Object.assign(N,{num:df});k.format.num=Ss;k.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&E(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});var mf=(e,t,r)=>{let n=e.num(),o=t.num();return new m(n+r*(o-n),"num")};G.num=mf;var{floor:hf}=Math,_f=(...e)=>{e=A(e,"hcg");let[t,r,n]=e,o,i,s;n=n*255;let a=r*255;if(r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let l=hf(t),c=t-l,f=n*(1-r),u=f+a*(1-c),p=f+a*c,d=f+a;switch(l){case 0:[o,i,s]=[d,p,f];break;case 1:[o,i,s]=[u,d,f];break;case 2:[o,i,s]=[f,d,p];break;case 3:[o,i,s]=[f,u,d];break;case 4:[o,i,s]=[p,f,d];break;case 5:[o,i,s]=[d,f,u];break}}return[o,i,s,e.length>3?e[3]:1]},Ls=_f;var gf=(...e)=>{let[t,r,n]=A(e,"rgb"),o=Rn(t,r,n),i=Ln(t,r,n),s=i-o,a=s*100/255,l=o/(255-s)*100,c;return s===0?c=Number.NaN:(t===i&&(c=(r-n)/s),r===i&&(c=2+(n-t)/s),n===i&&(c=4+(t-r)/s),c*=60,c<0&&(c+=360)),[c,a,l]},Ms=gf;m.prototype.hcg=function(){return Ms(this._rgb)};var vf=(...e)=>new m(...e,"hcg");N.hcg=vf;k.format.hcg=Ls;k.autodetect.push({p:1,test:(...e)=>{if(e=A(e,"hcg"),E(e)==="array"&&e.length===3)return"hcg"}});var bf=(e,t,r)=>Se(e,t,r,"hcg");G.hcg=bf;var{cos:cr}=Math,Af=(...e)=>{e=A(e,"hsi");let[t,r,n]=e,o,i,s;return isNaN(t)&&(t=0),isNaN(r)&&(r=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(s=(1-r)/3,o=(1+r*cr(De*t)/cr(Mn-De*t))/3,i=1-(s+o)):t<2/3?(t-=1/3,o=(1-r)/3,i=(1+r*cr(De*t)/cr(Mn-De*t))/3,s=1-(o+i)):(t-=2/3,i=(1-r)/3,s=(1+r*cr(De*t)/cr(Mn-De*t))/3,o=1-(i+s)),o=Pe(n*o*3),i=Pe(n*i*3),s=Pe(n*s*3),[o*255,i*255,s*255,e.length>3?e[3]:1]},Bs=Af;var{min:wf,sqrt:yf,acos:xf}=Math,Ef=(...e)=>{let[t,r,n]=A(e,"rgb");t/=255,r/=255,n/=255;let o,i=wf(t,r,n),s=(t+r+n)/3,a=s>0?1-i/s:0;return a===0?o=NaN:(o=(t-r+(t-n))/2,o/=yf((t-r)*(t-r)+(t-n)*(r-n)),o=xf(o),n>r&&(o=De-o),o/=De),[o*360,a,s]},Os=Ef;m.prototype.hsi=function(){return Os(this._rgb)};var Cf=(...e)=>new m(...e,"hsi");N.hsi=Cf;k.format.hsi=Bs;k.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsi"),E(e)==="array"&&e.length===3)return"hsi"}});var kf=(e,t,r)=>Se(e,t,r,"hsi");G.hsi=kf;var Tf=(...e)=>{e=A(e,"hsl");let[t,r,n]=e,o,i,s;if(r===0)o=i=s=n*255;else{let a=[0,0,0],l=[0,0,0],c=n<.5?n*(1+r):n+r-n*r,f=2*n-c,u=t/360;a[0]=u+1/3,a[1]=u,a[2]=u-1/3;for(let p=0;p<3;p++)a[p]<0&&(a[p]+=1),a[p]>1&&(a[p]-=1),6*a[p]<1?l[p]=f+(c-f)*6*a[p]:2*a[p]<1?l[p]=c:3*a[p]<2?l[p]=f+(c-f)*(2/3-a[p])*6:l[p]=f;[o,i,s]=[l[0]*255,l[1]*255,l[2]*255]}return e.length>3?[o,i,s,e[3]]:[o,i,s,1]},Jr=Tf;var If=(...e)=>{e=A(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;let o=Rn(t,r,n),i=Ln(t,r,n),s=(i+o)/2,a,l;return i===o?(a=0,l=Number.NaN):a=s<.5?(i-o)/(i+o):(i-o)/(2-i-o),t==i?l=(r-n)/(i-o):r==i?l=2+(n-t)/(i-o):n==i&&(l=4+(t-r)/(i-o)),l*=60,l<0&&(l+=360),e.length>3&&e[3]!==void 0?[l,a,s,e[3]]:[l,a,s]},Vn=If;m.prototype.hsl=function(){return Vn(this._rgb)};var Nf=(...e)=>new m(...e,"hsl");N.hsl=Nf;k.format.hsl=Jr;k.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsl"),E(e)==="array"&&e.length===3)return"hsl"}});var Pf=(e,t,r)=>Se(e,t,r,"hsl");G.hsl=Pf;var{floor:Df}=Math,$f=(...e)=>{e=A(e,"hsv");let[t,r,n]=e,o,i,s;if(n*=255,r===0)o=i=s=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;let a=Df(t),l=t-a,c=n*(1-r),f=n*(1-r*l),u=n*(1-r*(1-l));switch(a){case 0:[o,i,s]=[n,u,c];break;case 1:[o,i,s]=[f,n,c];break;case 2:[o,i,s]=[c,n,u];break;case 3:[o,i,s]=[c,f,n];break;case 4:[o,i,s]=[u,c,n];break;case 5:[o,i,s]=[n,c,f];break}}return[o,i,s,e.length>3?e[3]:1]},Fs=$f;var{min:Sf,max:Rf}=Math,Lf=(...e)=>{e=A(e,"rgb");let[t,r,n]=e,o=Sf(t,r,n),i=Rf(t,r,n),s=i-o,a,l,c;return c=i/255,i===0?(a=Number.NaN,l=0):(l=s/i,t===i&&(a=(r-n)/s),r===i&&(a=2+(n-t)/s),n===i&&(a=4+(t-r)/s),a*=60,a<0&&(a+=360)),[a,l,c]},Ys=Lf;m.prototype.hsv=function(){return Ys(this._rgb)};var Mf=(...e)=>new m(...e,"hsv");N.hsv=Mf;k.format.hsv=Fs;k.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"hsv"),E(e)==="array"&&e.length===3)return"hsv"}});var Bf=(e,t,r)=>Se(e,t,r,"hsv");G.hsv=Bf;function Ot(e,t){let r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(s=>[s]));let n=t[0].length,o=t[0].map((s,a)=>t.map(l=>l[a])),i=e.map(s=>o.map(a=>Array.isArray(s)?s.reduce((l,c,f)=>l+c*(a[f]||0),0):a.reduce((l,c)=>l+c*s,0)));return r===1&&(i=i[0]),n===1?i.map(s=>s[0]):i}var Of=(...e)=>{e=A(e,"lab");let[t,r,n,...o]=e,[i,s,a]=Ff([t,r,n]),[l,c,f]=Wo(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]};function Ff(e){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],r=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Ot(r,e);return Ot(t,n.map(o=>o**3))}var fr=Of;var Yf=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),i=Vo(t,r,n);return[...Wf(i),...o.length>0&&o[0]<1?[o[0]]:[]]};function Wf(e){let t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],r=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Ot(t,e);return Ot(r,n.map(o=>Math.cbrt(o)))}var ur=Yf;m.prototype.oklab=function(){return ur(this._rgb)};var Hf=(...e)=>new m(...e,"oklab");Object.assign(N,{oklab:Hf});k.format.oklab=fr;k.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"oklab"),E(e)==="array"&&e.length===3)return"oklab"}});var Vf=(e,t,r)=>{let n=e.oklab(),o=t.oklab();return new m(n[0]+r*(o[0]-n[0]),n[1]+r*(o[1]-n[1]),n[2]+r*(o[2]-n[2]),"oklab")};G.oklab=Vf;var Gf=(e,t,r)=>Se(e,t,r,"oklch");G.oklch=Gf;var{pow:Zo,sqrt:Uo,PI:jo,cos:Ws,sin:Hs,atan2:zf}=Math,Vs=(e,t="lrgb",r=null)=>{let n=e.length;r||(r=Array.from(new Array(n)).map(()=>1));let o=n/r.reduce(function(u,p){return u+p});if(r.forEach((u,p)=>{r[p]*=o}),e=e.map(u=>new m(u)),t==="lrgb")return Zf(e,r);let i=e.shift(),s=i.get(t),a=[],l=0,c=0;for(let u=0;u<s.length;u++)if(s[u]=(s[u]||0)*r[0],a.push(isNaN(s[u])?0:r[0]),t.charAt(u)==="h"&&!isNaN(s[u])){let p=s[u]/180*jo;l+=Ws(p)*r[0],c+=Hs(p)*r[0]}let f=i.alpha()*r[0];e.forEach((u,p)=>{let d=u.get(t);f+=u.alpha()*r[p+1];for(let _=0;_<s.length;_++)if(!isNaN(d[_]))if(a[_]+=r[p+1],t.charAt(_)==="h"){let g=d[_]/180*jo;l+=Ws(g)*r[p+1],c+=Hs(g)*r[p+1]}else s[_]+=d[_]*r[p+1]});for(let u=0;u<s.length;u++)if(t.charAt(u)==="h"){let p=zf(c/a[u],l/a[u])/jo*180;for(;p<0;)p+=360;for(;p>=360;)p-=360;s[u]=p}else s[u]=s[u]/a[u];return f/=n,new m(s,t).alpha(f>.99999?1:f,!0)},Zf=(e,t)=>{let r=e.length,n=[0,0,0,0];for(let o=0;o<e.length;o++){let i=e[o],s=t[o]/r,a=i._rgb;n[0]+=Zo(a[0],2)*s,n[1]+=Zo(a[1],2)*s,n[2]+=Zo(a[2],2)*s,n[3]+=a[3]*s}return n[0]=Uo(n[0]),n[1]=Uo(n[1]),n[2]=Uo(n[2]),n[3]>.9999999&&(n[3]=1),new m(Bt(n))};var{pow:Uf}=Math;function Ft(e){let t="rgb",r=N("#ccc"),n=0,o=[0,1],i=[],s=[0,0],a=!1,l=[],c=!1,f=0,u=1,p=!1,d={},_=!0,g=1,v=function(h){if(h=h||["#fff","#000"],h&&E(h)==="string"&&N.brewer&&N.brewer[h.toLowerCase()]&&(h=N.brewer[h.toLowerCase()]),E(h)==="array"){h.length===1&&(h=[h[0],h[0]]),h=h.slice(0);for(let x=0;x<h.length;x++)h[x]=N(h[x]);i.length=0;for(let x=0;x<h.length;x++)i.push(x/(h.length-1))}return P(),l=h},b=function(h){if(a!=null){let x=a.length-1,T=0;for(;T<x&&h>=a[T];)T++;return T-1}return 0},S=h=>h,L=h=>h,M=function(h,x){let T,$;if(x==null&&(x=!1),isNaN(h)||h===null)return r;x?$=h:a&&a.length>2?$=b(h)/(a.length-2):u!==f?$=(h-f)/(u-f):$=1,$=L($),x||($=S($)),g!==1&&($=Uf($,g)),$=s[0]+$*(1-s[0]-s[1]),$=Pe($,0,1);let I=Math.floor($*1e4);if(_&&d[I])T=d[I];else{if(E(l)==="array")for(let C=0;C<i.length;C++){let W=i[C];if($<=W){T=l[C];break}if($>=W&&C===i.length-1){T=l[C];break}if($>W&&$<i[C+1]){$=($-W)/(i[C+1]-W),T=N.interpolate(l[C],l[C+1],$,t);break}}else E(l)==="function"&&(T=l($));_&&(d[I]=T)}return T};var P=()=>d={};v(e);let y=function(h){let x=N(M(h));return c&&x[c]?x[c]():x};return y.classes=function(h){if(h!=null){if(E(h)==="array")a=h,o=[h[0],h[h.length-1]];else{let x=N.analyze(o);h===0?a=[x.min,x.max]:a=N.limits(x,"e",h)}return y}return a},y.domain=function(h){if(!arguments.length)return o;f=h[0],u=h[h.length-1],i=[];let x=l.length;if(h.length===x&&f!==u)for(let T of Array.from(h))i.push((T-f)/(u-f));else{for(let T=0;T<x;T++)i.push(T/(x-1));if(h.length>2){let T=h.map((I,C)=>C/(h.length-1)),$=h.map(I=>(I-f)/(u-f));$.every((I,C)=>T[C]===I)||(L=I=>{if(I<=0||I>=1)return I;let C=0;for(;I>=$[C+1];)C++;let W=(I-$[C])/($[C+1]-$[C]);return T[C]+W*(T[C+1]-T[C])})}}return o=[f,u],y},y.mode=function(h){return arguments.length?(t=h,P(),y):t},y.range=function(h,x){return v(h,x),y},y.out=function(h){return c=h,y},y.spread=function(h){return arguments.length?(n=h,y):n},y.correctLightness=function(h){return h==null&&(h=!0),p=h,P(),p?S=function(x){let T=M(0,!0).lab()[0],$=M(1,!0).lab()[0],I=T>$,C=M(x,!0).lab()[0],W=T+($-T)*x,ae=C-W,ft=0,Ke=1,Je=20;for(;Math.abs(ae)>.01&&Je-- >0;)(function(){return I&&(ae*=-1),ae<0?(ft=x,x+=(Ke-x)*.5):(Ke=x,x+=(ft-x)*.5),C=M(x,!0).lab()[0],ae=C-W})();return x}:S=x=>x,y},y.padding=function(h){return h!=null?(E(h)==="number"&&(h=[h,h]),s=h,y):s},y.colors=function(h,x){arguments.length<2&&(x="hex");let T=[];if(arguments.length===0)T=l.slice(0);else if(h===1)T=[y(.5)];else if(h>1){let $=o[0],I=o[1]-$;T=jf(0,h,!1).map(C=>y($+C/(h-1)*I))}else{e=[];let $=[];if(a&&a.length>2)for(let I=1,C=a.length,W=1<=C;W?I<C:I>C;W?I++:I--)$.push((a[I-1]+a[I])*.5);else $=o;T=$.map(I=>y(I))}return N[x]&&(T=T.map($=>$[x]())),T},y.cache=function(h){return h!=null?(_=h,y):_},y.gamma=function(h){return h!=null?(g=h,y):g},y.nodata=function(h){return h!=null?(r=N(h),y):r},y}function jf(e,t,r){let n=[],o=e<t,i=r?o?t+1:t-1:t;for(let s=e;o?s<i:s>i;o?s++:s--)n.push(s);return n}var qf=function(e){let t=[1,1];for(let r=1;r<e;r++){let n=[1];for(let o=1;o<=t.length;o++)n[o]=(t[o]||0)+t[o-1];t=n}return t},Qf=function(e){let t,r,n,o;if(e=e.map(i=>new m(i)),e.length===2)[r,n]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>r[a]+i*(n[a]-r[a]));return new m(s,"lab")};else if(e.length===3)[r,n,o]=e.map(i=>i.lab()),t=function(i){let s=[0,1,2].map(a=>(1-i)*(1-i)*r[a]+2*(1-i)*i*n[a]+i*i*o[a]);return new m(s,"lab")};else if(e.length===4){let i;[r,n,o,i]=e.map(s=>s.lab()),t=function(s){let a=[0,1,2].map(l=>(1-s)*(1-s)*(1-s)*r[l]+3*(1-s)*(1-s)*s*n[l]+3*(1-s)*s*s*o[l]+s*s*s*i[l]);return new m(a,"lab")}}else if(e.length>=5){let i,s,a;i=e.map(l=>l.lab()),a=e.length-1,s=qf(a),t=function(l){let c=1-l,f=[0,1,2].map(u=>i.reduce((p,d,_)=>p+s[_]*c**(a-_)*l**_*d[u],0));return new m(f,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},Gs=e=>{let t=Qf(e);return t.scale=()=>Ft(t),t};var{round:zs}=Math;m.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(zs)};m.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((t,r)=>r<3?e===!1?t:zs(t):t)};var Xf=(...e)=>new m(...e,"rgb");Object.assign(N,{rgb:Xf});k.format.rgb=(...e)=>{let t=A(e,"rgba");return t[3]===void 0&&(t[3]=1),t};k.autodetect.push({p:3,test:(...e)=>{if(e=A(e,"rgba"),E(e)==="array"&&(e.length===3||e.length===4&&E(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});var Ve=(e,t,r)=>{if(!Ve[r])throw new Error("unknown blend mode "+r);return Ve[r](e,t)},xt=e=>(t,r)=>{let n=N(r).rgb(),o=N(t).rgb();return N.rgb(e(n,o))},Et=e=>(t,r)=>{let n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},Kf=e=>e,Jf=(e,t)=>e*t/255,eu=(e,t)=>e>t?t:e,tu=(e,t)=>e>t?e:t,ru=(e,t)=>255*(1-(1-e/255)*(1-t/255)),nu=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),ou=(e,t)=>255*(1-(1-t/255)/(e/255)),iu=(e,t)=>e===255?255:(e=255*(t/255)/(1-e/255),e>255?255:e);Ve.normal=xt(Et(Kf));Ve.multiply=xt(Et(Jf));Ve.screen=xt(Et(ru));Ve.overlay=xt(Et(nu));Ve.darken=xt(Et(eu));Ve.lighten=xt(Et(tu));Ve.dodge=xt(Et(iu));Ve.burn=xt(Et(ou));var Zs=Ve;var{pow:su,sin:au,cos:lu}=Math;function Us(e=300,t=-1.5,r=1,n=1,o=[0,1]){let i=0,s;E(o)==="array"?s=o[1]-o[0]:(s=0,o=[o,o]);let a=function(l){let c=De*((e+120)/360+t*l),f=su(o[0]+s*l,n),p=(i!==0?r[0]+l*i:r)*f*(1-f)/2,d=lu(c),_=au(c),g=f+p*(-.14861*d+1.78277*_),v=f+p*(-.29227*d-.90649*_),b=f+p*(1.97294*d);return N(Bt([g*255,v*255,b*255,1]))};return a.start=function(l){return l==null?e:(e=l,a)},a.rotations=function(l){return l==null?t:(t=l,a)},a.gamma=function(l){return l==null?n:(n=l,a)},a.hue=function(l){return l==null?r:(r=l,E(r)==="array"?(i=r[1]-r[0],i===0&&(r=r[1])):i=0,a)},a.lightness=function(l){return l==null?o:(E(l)==="array"?(o=l,s=l[1]-l[0]):(o=[l,l],s=0),a)},a.scale=()=>N.scale(a),a.hue(r),a}var cu="0123456789abcdef",{floor:fu,random:uu}=Math,js=()=>{let e="#";for(let t=0;t<6;t++)e+=cu.charAt(fu(uu()*16));return new m(e,"hex")};var{log:qs,pow:pu,floor:du,abs:mu}=Math;function qo(e,t=null){let r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return E(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{t&&E(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(r.values.push(n),r.sum+=n,n<r.min&&(r.min=n),n>r.max&&(r.max=n),r.count+=1)}),r.domain=[r.min,r.max],r.limits=(n,o)=>Qo(r,n,o),r}function Qo(e,t="equal",r=7){E(e)=="array"&&(e=qo(e));let{min:n,max:o}=e,i=e.values.sort((a,l)=>a-l);if(r===1)return[n,o];let s=[];if(t.substr(0,1)==="c"&&(s.push(n),s.push(o)),t.substr(0,1)==="e"){s.push(n);for(let a=1;a<r;a++)s.push(n+a/r*(o-n));s.push(o)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");let a=Math.LOG10E*qs(n),l=Math.LOG10E*qs(o);s.push(n);for(let c=1;c<r;c++)s.push(pu(10,a+c/r*(l-a)));s.push(o)}else if(t.substr(0,1)==="q"){s.push(n);for(let a=1;a<r;a++){let l=(i.length-1)*a/r,c=du(l);if(c===l)s.push(i[c]);else{let f=l-c;s.push(i[c]*(1-f)+i[c+1]*f)}}s.push(o)}else if(t.substr(0,1)==="k"){let a,l=i.length,c=new Array(l),f=new Array(r),u=!0,p=0,d=null;d=[],d.push(n);for(let v=1;v<r;v++)d.push(n+v/r*(o-n));for(d.push(o);u;){for(let b=0;b<r;b++)f[b]=0;for(let b=0;b<l;b++){let S=i[b],L=Number.MAX_VALUE,M;for(let P=0;P<r;P++){let y=mu(d[P]-S);y<L&&(L=y,M=P),f[M]++,c[b]=M}}let v=new Array(r);for(let b=0;b<r;b++)v[b]=null;for(let b=0;b<l;b++)a=c[b],v[a]===null?v[a]=i[b]:v[a]+=i[b];for(let b=0;b<r;b++)v[b]*=1/f[b];u=!1;for(let b=0;b<r;b++)if(v[b]!==d[b]){u=!0;break}d=v,p++,p>200&&(u=!1)}let _={};for(let v=0;v<r;v++)_[v]=[];for(let v=0;v<l;v++)a=c[v],_[a].push(i[v]);let g=[];for(let v=0;v<r;v++)g.push(_[v][0]),g.push(_[v][_[v].length-1]);g=g.sort((v,b)=>v-b),s.push(g[0]);for(let v=1;v<g.length;v+=2){let b=g[v];!isNaN(b)&&s.indexOf(b)===-1&&s.push(b)}}return s}var Qs=(e,t)=>{e=new m(e),t=new m(t);let r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};var Xs=.027,hu=5e-4,_u=.1,Ks=1.14,Gn=.022,Js=1.414,ta=(e,t)=>{e=new m(e),t=new m(t),e.alpha()<1&&(e=nt(t,e,e.alpha(),"rgb"));let r=ea(...e.rgb()),n=ea(...t.rgb()),o=r>=Gn?r:r+Math.pow(Gn-r,Js),i=n>=Gn?n:n+Math.pow(Gn-n,Js),s=Math.pow(i,.56)-Math.pow(o,.57),a=Math.pow(i,.65)-Math.pow(o,.62),l=Math.abs(i-o)<hu?0:o<i?s*Ks:a*Ks;return(Math.abs(l)<_u?0:l>0?l-Xs:l+Xs)*100};function ea(e,t,r){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(r/255,2.4)}var{sqrt:pt,pow:Q,min:gu,max:vu,atan2:ra,abs:na,cos:zn,sin:oa,exp:bu,PI:ia}=Math;function sa(e,t,r=1,n=1,o=1){var i=function(et){return 360*et/(2*ia)},s=function(et){return 2*ia*et/360};e=new m(e),t=new m(t);let[a,l,c]=Array.from(e.lab()),[f,u,p]=Array.from(t.lab()),d=(a+f)/2,_=pt(Q(l,2)+Q(c,2)),g=pt(Q(u,2)+Q(p,2)),v=(_+g)/2,b=.5*(1-pt(Q(v,7)/(Q(v,7)+Q(25,7)))),S=l*(1+b),L=u*(1+b),M=pt(Q(S,2)+Q(c,2)),P=pt(Q(L,2)+Q(p,2)),y=(M+P)/2,h=i(ra(c,S)),x=i(ra(p,L)),T=h>=0?h:h+360,$=x>=0?x:x+360,I=na(T-$)>180?(T+$+360)/2:(T+$)/2,C=1-.17*zn(s(I-30))+.24*zn(s(2*I))+.32*zn(s(3*I+6))-.2*zn(s(4*I-63)),W=$-T;W=na(W)<=180?W:$<=T?W+360:W-360,W=2*pt(M*P)*oa(s(W)/2);let ae=f-a,ft=P-M,Ke=1+.015*Q(d-50,2)/pt(20+Q(d-50,2)),Je=1+.045*y,Mr=1+.015*y*C,ko=30*bu(-Q((I-275)/25,2)),En=-(2*pt(Q(y,7)/(Q(y,7)+Q(25,7))))*oa(2*s(ko)),Br=pt(Q(ae/(r*Ke),2)+Q(ft/(n*Je),2)+Q(W/(o*Mr),2)+En*(ft/(n*Je))*(W/(o*Mr)));return vu(0,gu(100,Br))}function aa(e,t,r="lab"){e=new m(e),t=new m(t);let n=e.get(r),o=t.get(r),i=0;for(let s in n){let a=(n[s]||0)-(o[s]||0);i+=a*a}return Math.sqrt(i)}var la=(...e)=>{try{return new m(...e),!0}catch{return!1}};var ca={cool(){return Ft([N.hsl(180,1,.9),N.hsl(250,.7,.4)])},hot(){return Ft(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}};var Xo={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ua=Object.keys(Xo),fa=new Map(ua.map(e=>[e.toLowerCase(),e])),Au=typeof Proxy=="function"?new Proxy(Xo,{get(e,t){let r=t.toLowerCase();if(fa.has(r))return e[fa.get(r)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(ua)}}):Xo,pa=Au;var wu=(...e)=>{e=A(e,"cmyk");let[t,r,n,o]=e,i=e.length>4?e[4]:1;return o===1?[0,0,0,i]:[t>=1?0:255*(1-t)*(1-o),r>=1?0:255*(1-r)*(1-o),n>=1?0:255*(1-n)*(1-o),i]},da=wu;var{max:ma}=Math,yu=(...e)=>{let[t,r,n]=A(e,"rgb");t=t/255,r=r/255,n=n/255;let o=1-ma(t,ma(r,n)),i=o<1?1/(1-o):0,s=(1-t-o)*i,a=(1-r-o)*i,l=(1-n-o)*i;return[s,a,l,o]},ha=yu;m.prototype.cmyk=function(){return ha(this._rgb)};var xu=(...e)=>new m(...e,"cmyk");Object.assign(N,{cmyk:xu});k.format.cmyk=da;k.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"cmyk"),E(e)==="array"&&e.length===4)return"cmyk"}});var Eu=(...e)=>{let t=A(e,"hsla"),r=Ce(e)||"lsa";return t[0]=oe(t[0]||0)+"deg",t[1]=oe(t[1]*100)+"%",t[2]=oe(t[2]*100)+"%",r==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),r="hsla"):t.length=3,`${r.substr(0,3)}(${t.join(" ")})`},_a=Eu;var Cu=(...e)=>{let t=A(e,"lab"),r=Ce(e)||"lab";return t[0]=oe(t[0])+"%",t[1]=oe(t[1]),t[2]=oe(t[2]),r==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},ga=Cu;var ku=(...e)=>{let t=A(e,"lch"),r=Ce(e)||"lab";return t[0]=oe(t[0])+"%",t[1]=oe(t[1]),t[2]=isNaN(t[2])?"none":oe(t[2])+"deg",r==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},va=ku;var Tu=(...e)=>{let t=A(e,"lab");return t[0]=oe(t[0]*100)+"%",t[1]=Qr(t[1]),t[2]=Qr(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},ba=Tu;var Iu=(...e)=>{let[t,r,n,...o]=A(e,"rgb"),[i,s,a]=ur(t,r,n),[l,c,f]=Hn(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]},Zn=Iu;var Nu=(...e)=>{let t=A(e,"lch");return t[0]=oe(t[0]*100)+"%",t[1]=Qr(t[1]),t[2]=isNaN(t[2])?"none":oe(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},Aa=Nu;var{round:Ko}=Math,Pu=(...e)=>{let t=A(e,"rgba"),r=Ce(e)||"rgb";if(r.substr(0,3)==="hsl")return _a(Vn(t),r);if(r.substr(0,3)==="lab"){let n=yt();$e("d50");let o=ga(sr(t),r);return $e(n),o}if(r.substr(0,3)==="lch"){let n=yt();$e("d50");let o=va(Kr(t),r);return $e(n),o}return r.substr(0,5)==="oklab"?ba(ur(t)):r.substr(0,5)==="oklch"?Aa(Zn(t)):(t[0]=Ko(t[0]),t[1]=Ko(t[1]),t[2]=Ko(t[2]),(r==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),r="rgba"),`${r.substr(0,3)}(${t.slice(0,r==="rgb"?3:4).join(" ")})`)},wa=Pu;var Du=(...e)=>{e=A(e,"lch");let[t,r,n,...o]=e,[i,s,a]=Wn(t,r,n),[l,c,f]=fr(i,s,a);return[l,c,f,...o.length>0&&o[0]<1?[o[0]]:[]]},Un=Du;var dt=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Ge=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,jn=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Re=/\s*/.source,dr=/\s+/.source,Jo=/\s*,\s*/.source,qn=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,mr=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,ya=new RegExp("^rgba?\\("+Re+[dt,dt,dt].join(dr)+mr+"\\)$"),xa=new RegExp("^rgb\\("+Re+[dt,dt,dt].join(Jo)+Re+"\\)$"),Ea=new RegExp("^rgba\\("+Re+[dt,dt,dt,Ge].join(Jo)+Re+"\\)$"),Ca=new RegExp("^hsla?\\("+Re+[qn,jn,jn].join(dr)+mr+"\\)$"),ka=new RegExp("^hsl?\\("+Re+[qn,jn,jn].join(Jo)+Re+"\\)$"),Ta=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ia=new RegExp("^lab\\("+Re+[Ge,Ge,Ge].join(dr)+mr+"\\)$"),Na=new RegExp("^lch\\("+Re+[Ge,Ge,qn].join(dr)+mr+"\\)$"),Pa=new RegExp("^oklab\\("+Re+[Ge,Ge,Ge].join(dr)+mr+"\\)$"),Da=new RegExp("^oklch\\("+Re+[Ge,Ge,qn].join(dr)+mr+"\\)$"),{round:$a}=Math,pr=e=>e.map((t,r)=>r<=2?Pe($a(t),0,255):t),X=(e,t=0,r=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=t+(e+1)*.5*(r-t):e=t+e*(r-t)),+e),me=(e,t)=>e==="none"?t:e,Sa=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let t;if(k.format.named)try{return k.format.named(e)}catch{}if((t=e.match(ya))||(t=e.match(xa))){let r=t.slice(1,4);for(let o=0;o<3;o++)r[o]=+X(me(r[o],0),0,255);r=pr(r);let n=t[4]!==void 0?+X(t[4],0,1):1;return r[3]=n,r}if(t=e.match(Ea)){let r=t.slice(1,5);for(let n=0;n<4;n++)r[n]=+X(r[n],0,255);return r}if((t=e.match(Ca))||(t=e.match(ka))){let r=t.slice(1,4);r[0]=+me(r[0].replace("deg",""),0),r[1]=+X(me(r[1],0),0,100)*.01,r[2]=+X(me(r[2],0),0,100)*.01;let n=pr(Jr(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Ta)){let r=t.slice(1,4);r[1]*=.01,r[2]*=.01;let n=Jr(r);for(let o=0;o<3;o++)n[o]=$a(n[o]);return n[3]=+t[4],n}if(t=e.match(Ia)){let r=t.slice(1,4);r[0]=X(me(r[0],0),0,100),r[1]=X(me(r[1],0),-125,125,!0),r[2]=X(me(r[2],0),-125,125,!0);let n=yt();$e("d50");let o=pr(ir(r));$e(n);let i=t[4]!==void 0?+X(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Na)){let r=t.slice(1,4);r[0]=X(r[0],0,100),r[1]=X(me(r[1],0),0,150,!1),r[2]=+me(r[2].replace("deg",""),0);let n=yt();$e("d50");let o=pr(ar(r));$e(n);let i=t[4]!==void 0?+X(t[4],0,1):1;return o[3]=i,o}if(t=e.match(Pa)){let r=t.slice(1,4);r[0]=X(me(r[0],0),0,1),r[1]=X(me(r[1],0),-.4,.4,!0),r[2]=X(me(r[2],0),-.4,.4,!0);let n=pr(fr(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}if(t=e.match(Da)){let r=t.slice(1,4);r[0]=X(me(r[0],0),0,1),r[1]=X(me(r[1],0),0,.4,!1),r[2]=+me(r[2].replace("deg",""),0);let n=pr(Un(r)),o=t[4]!==void 0?+X(t[4],0,1):1;return n[3]=o,n}};Sa.test=e=>ya.test(e)||Ca.test(e)||Ia.test(e)||Na.test(e)||Pa.test(e)||Da.test(e)||xa.test(e)||Ea.test(e)||ka.test(e)||Ta.test(e)||e==="transparent";var ei=Sa;m.prototype.css=function(e){return wa(this._rgb,e)};var $u=(...e)=>new m(...e,"css");N.css=$u;k.format.css=ei;k.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&E(e)==="string"&&ei.test(e))return"css"}});k.format.gl=(...e)=>{let t=A(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};var Su=(...e)=>new m(...e,"gl");N.gl=Su;m.prototype.gl=function(){let e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};m.prototype.hex=function(e){return Yn(this._rgb,e)};var Ru=(...e)=>new m(...e,"hex");N.hex=Ru;k.format.hex=On;k.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&E(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var{log:Qn}=Math,Lu=e=>{let t=e/100,r,n,o;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*Qn(n),o=t<20?0:-254.76935184120902+.8274096064007395*(o=t-10)+115.67994401066147*Qn(o)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*Qn(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*Qn(n),o=255),[r,n,o,1]},Xn=Lu;var{round:Mu}=Math,Bu=(...e)=>{let t=A(e,"rgb"),r=t[0],n=t[2],o=1e3,i=4e4,s=.4,a;for(;i-o>s;){a=(i+o)*.5;let l=Xn(a);l[2]/l[0]>=n/r?i=a:o=a}return Mu(a)},Ra=Bu;m.prototype.temp=m.prototype.kelvin=m.prototype.temperature=function(){return Ra(this._rgb)};var ti=(...e)=>new m(...e,"temp");Object.assign(N,{temp:ti,kelvin:ti,temperature:ti});k.format.temp=k.format.kelvin=k.format.temperature=Xn;m.prototype.oklch=function(){return Zn(this._rgb)};var Ou=(...e)=>new m(...e,"oklch");Object.assign(N,{oklch:Ou});k.format.oklch=Un;k.autodetect.push({p:2,test:(...e)=>{if(e=A(e,"oklch"),E(e)==="array"&&e.length===3)return"oklch"}});Object.assign(N,{analyze:qo,average:Vs,bezier:Gs,blend:Zs,brewer:pa,Color:m,colors:wt,contrast:Qs,contrastAPCA:ta,cubehelix:Us,deltaE:sa,distance:aa,input:k,interpolate:nt,limits:Qo,mix:nt,random:js,scale:Ft,scales:ca,valid:la});var ri=N;var Xl=require("obsidian");var ni=globalThis.process?.env?.NODE_ENV;ni||console.warn("If bundling, conditions should include development or production. If not bundling, conditions or NODE_ENV should include development or production. See https://www.npmjs.com/package/esm-env for tips on setting conditions in popular bundlers and runtimes.");var w=ni&&!ni.toLowerCase().includes("prod");var ze=Array.isArray,La=Array.prototype.indexOf,en=Array.from,oi=Object.keys,ie=Object.defineProperty,Le=Object.getOwnPropertyDescriptor,Kn=Object.getOwnPropertyDescriptors,ii=Object.prototype,Ma=Array.prototype,Ct=Object.getPrototypeOf;var be=()=>{};function Ba(e){return e()}function Yt(e){for(var t=0;t<e.length;t++)e[t]()}var Ae=Symbol("$state"),Wt=Symbol("$state metadata"),Jn=Symbol("legacy props"),Oa=Symbol("");function eo(e){return e===this.v}function tn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function hr(e){return!tn(e,this.v)}function Fa(){if(w){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ya(e){if(w){let t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function Wa(){if(w){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ha(e){if(w){let t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function Va(){if(w){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ga(){if(w){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function za(e){if(w){let t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/props_invalid_value")}function Za(e){if(w){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Ua(){if(w){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ja(){if(w){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function qa(){if(w){let e=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\nhttps://svelte.dev/e/state_unsafe_local_read");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Qa(){if(w){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var ot=!1,it=!1;function Xa(){ot=!0}var _r="[",Ht="[!",Vt="]",kt={};var K=Symbol(),he=Symbol("filename"),Ka=Symbol("hmr");var rn=null;function mt(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),o=[`
`];for(let i=0;i<n.length;i++){let s=n[i];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||o.push(s)}}if(o.length===1)return null;ie(t,"stack",{value:o.join(`
`)}),ie(t,"name",{value:`${e}Error`})}return t}var Gt=new Set;function ci(e){Gt=e}function J(e,t){var r={f:0,v:e,reactions:null,equals:eo,version:0};return w&&it&&(r.created=t??mt("CreatedAt"),r.debug=null),r}function at(e,t=!1){var n;let r=J(e);return t||(r.equals=hr),ot&&B!==null&&B.l!==null&&((n=B.l).s??(n.s=[])).push(r),r}function on(e,t=!1){return Yu(at(e,t))}function Yu(e){return F!==null&&F.f&2&&(Ze===null?tl([e]):Ze.push(e)),e}function Z(e,t){return F!==null&&zt()&&F.f&18&&(Ze===null||!Ze.includes(e))&&Qa(),br(e,t)}function br(e,t){if(!e.equals(t)){var r=e.v;if(e.v=t,e.version=sn(),w&&it&&(e.updated=mt("UpdatedAt"),D!=null&&(e.trace_need_increase=!0,e.trace_v??(e.trace_v=r))),el(e,2048),zt()&&D!==null&&D.f&1024&&!(D.f&32)&&(se!==null&&se.includes(e)?(le(D,2048),Ar(D)):ht===null?rl([e]):ht.push(e)),w&&Gt.size>0){let o=Array.from(Gt);var n=_t;gr(!0);try{for(let i of o)i.f&1024&&le(i,4096),gt(i)&&Tt(i)}finally{gr(n)}Gt.clear()}}return t}function el(e,t){var r=e.reactions;if(r!==null)for(var n=zt(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if(!(a&2048)&&!(!n&&s===D)){if(w&&a&262144){Gt.add(s);continue}le(s,t),a&1280&&(a&2?el(s,4096):Ar(s))}}}var an="font-weight: bold",ln="font-weight: normal";function nl(e,t,r){w?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,an,ln):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function wr(e){w?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,an,ln):console.warn("https://svelte.dev/e/hydration_mismatch")}function ol(){w?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,an,ln):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function fi(e,t){w?console.warn(`%c[svelte] ownership_invalid_mutation
%c${e?`${e} mutated a value owned by ${t}. This is strongly discouraged. Consider passing values to child components with \`bind:\`, or use a callback instead`:"Mutating a value outside the component that created it is strongly discouraged. Consider passing values to child components with `bind:`, or use a callback instead"}
https://svelte.dev/e/ownership_invalid_mutation`,an,ln):console.warn("https://svelte.dev/e/ownership_invalid_mutation")}function to(e){w?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,an,ln):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var R=!1;function ye(e){R=e}var Y;function q(e){if(e===null)throw wr(),kt;return Y=e}function ce(){return q(ge(Y))}function xe(e){if(R){if(ge(Y)!==null)throw wr(),kt;Y=e}}function yr(){for(var e=0,t=Y;;){if(t.nodeType===8){var r=t.data;if(r===Vt){if(e===0)return t;e-=1}else(r===_r||r===Ht)&&(e+=1)}var n=ge(t);t.remove(),t=n}}var Wu={},Hu=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,Vu=/@(.+):(\d+):(\d+)$/;function Gu(){let e=new Error().stack;if(!e)return null;let t=[];for(let r of e.split(`
`)){let n=Hu.exec(r)??Vu.exec(r);n&&t.push({file:n[1],line:+n[2],column:+n[3]})}return t}function il(){let e=Gu()?.slice(4);if(!e)return null;for(let t=0;t<e.length;t++){let r=e[t],n=Wu[r.file];if(!n){if(t===0)return null;continue}for(let o of n){if(o.end==null)return null;if(o.start.line<r.line&&o.end.line>r.line)return o.component}}return null}var zu=Symbol("ADD_OWNER");function ui(e,t){if(t.owners!==null)for(;e;){if(e.owners===null){t.owners=null;break}for(let r of e.owners)t.owners.add(r);e=e.parent}}function sl(e,t){return e.owners===null?!0:e.owners.has(t)||e.parent!==null&&sl(e.parent,t)}function al(e){return e?.owners?.values().next().value??al(e.parent)}var Zu=!1;function ll(e){if(Zu)return;let t=il();if(t&&!sl(e,t)){let r=al(e);r[he]!==t[he]?fi(t[he],r[he]):fi()}}function It(e,t=null,r){var n=null;if(w&&it&&(n=mt("CreatedAt")),typeof e!="object"||e===null||Ae in e)return e;let o=Ct(e);if(o!==ii&&o!==Ma)return e;var i=new Map,s=ze(e),a=J(0);s&&i.set("length",J(e.length,n));var l;if(w)if(l={parent:t,owners:null},r){let c=r.v?.[Wt]?.owners;l.owners=c?new Set(c):null}else l.owners=t===null?B!==null?new Set([B.function]):null:new Set;return new Proxy(e,{defineProperty(c,f,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ua();var p=i.get(f);return p===void 0?(p=J(u.value,n),i.set(f,p)):Z(p,It(u.value,l)),!0},deleteProperty(c,f){var u=i.get(f);if(u===void 0)f in c&&i.set(f,J(K,n));else{if(s&&typeof f=="string"){var p=i.get("length"),d=Number(f);Number.isInteger(d)&&d<p.v&&Z(p,d)}Z(u,K),cl(a)}return!0},get(c,f,u){if(w&&f===Wt)return l;if(f===Ae)return e;var p=i.get(f),d=f in c;if(p===void 0&&(!d||Le(c,f)?.writable)&&(p=J(It(d?c[f]:K,l),n),i.set(f,p)),p!==void 0){var _=O(p);if(w){var g=_?.[Wt];g&&g?.parent!==l&&ui(l,g)}return _===K?void 0:_}return Reflect.get(c,f,u)},getOwnPropertyDescriptor(c,f){var u=Reflect.getOwnPropertyDescriptor(c,f);if(u&&"value"in u){var p=i.get(f);p&&(u.value=O(p))}else if(u===void 0){var d=i.get(f),_=d?.v;if(d!==void 0&&_!==K)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(c,f){if(w&&f===Wt||f===Ae)return!0;var u=i.get(f),p=u!==void 0&&u.v!==K||Reflect.has(c,f);if(u!==void 0||D!==null&&(!p||Le(c,f)?.writable)){u===void 0&&(u=J(p?It(c[f],l):K,n),i.set(f,u));var d=O(u);if(d===K)return!1}return p},set(c,f,u,p){var d=i.get(f),_=f in c;if(s&&f==="length")for(var g=u;g<d.v;g+=1){var v=i.get(g+"");v!==void 0?Z(v,K):g in c&&(v=J(K,n),i.set(g+"",v))}if(d===void 0?(!_||Le(c,f)?.writable)&&(d=J(void 0,n),Z(d,It(u,l)),i.set(f,d)):(_=d.v!==K,Z(d,It(u,l))),w){var b=u?.[Wt];b&&b?.parent!==l&&ui(l,b),ll(l)}var S=Reflect.getOwnPropertyDescriptor(c,f);if(S?.set&&S.set.call(p,u),!_){if(s&&typeof f=="string"){var L=i.get("length"),M=Number(f);Number.isInteger(M)&&M>=L.v&&Z(L,M+1)}cl(a)}return!0},ownKeys(c){O(a);var f=Reflect.ownKeys(c).filter(d=>{var _=i.get(d);return _===void 0||_.v!==K});for(var[u,p]of i)p.v!==K&&!(u in c)&&f.push(u);return f},setPrototypeOf(){ja()}})}function cl(e,t=1){Z(e,e.v+t)}function ro(e){return e!==null&&typeof e=="object"&&Ae in e?e[Ae]:e}function fl(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);if(a===-1){for(let l=s??0;l<this.length;l+=1)if(ro(this[l])===i){to("array.indexOf(...)");break}}return a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s??this.length-1);if(a===-1){for(let l=0;l<=(s??this.length-1);l+=1)if(ro(this[l])===i){to("array.lastIndexOf(...)");break}}return a},e.includes=function(i,s){let a=o.call(this,i,s);if(!a){for(let l=0;l<this.length;l+=1)if(ro(this[l])===i){to("array.includes(...)");break}}return a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var pi,ul,pl,dl;function no(){if(pi===void 0){pi=window,ul=document;var e=Element.prototype,t=Node.prototype;pl=Le(t,"firstChild").get,dl=Le(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0,w&&(e.__svelte_meta=null,fl())}}function je(e=""){return document.createTextNode(e)}function fe(e){return pl.call(e)}function ge(e){return dl.call(e)}function Te(e,t){if(!R)return fe(e);var r=fe(Y);if(r===null)r=Y.appendChild(je());else if(t&&r.nodeType!==3){var n=je();return r?.before(n),q(n),n}return q(r),r}function di(e,t){if(!R){var r=fe(e);return r instanceof Comment&&r.data===""?ge(r):r}if(t&&Y?.nodeType!==3){var n=je();return Y?.before(n),q(n),n}return Y}function Nt(e,t=1,r=!1){let n=R?Y:e;for(var o;t--;)o=n,n=ge(n);if(!R)return n;var i=n?.nodeType;if(r&&i!==3){var s=je();return n===null?o?.after(s):n.before(s),q(s),s}return q(n),n}function cn(e){e.textContent=""}function Zt(e){var t=2050;D===null?t|=256:D.f|=1048576;var r=F!==null&&F.f&2?F:null;let n={children:null,ctx:B,deps:null,equals:eo,f:t,fn:e,reactions:null,v:null,version:0,parent:r??D};return w&&it&&(n.created=mt("CreatedAt")),r!==null&&(r.children??(r.children=[])).push(n),n}function fn(e){let t=Zt(e);return t.equals=hr,t}function hi(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&2?un(n):ue(n)}}}var mi=[];function Uu(e){for(var t=e.parent;t!==null;){if(!(t.f&2))return t;t=t.parent}return null}function gi(e){var t,r=D;if(te(Uu(e)),w){let n=Gt;ci(new Set);try{mi.includes(e)&&Fa(),mi.push(e),hi(e),t=oo(e)}finally{te(r),ci(n),mi.pop()}}else try{hi(e),t=oo(e)}finally{te(r)}return t}function vi(e){var t=gi(e),r=(vt||e.f&256)&&e.deps!==null?4096:1024;le(e,r),e.equals(t)||(e.v=t,e.version=sn())}function un(e){hi(e),Ut(e,0),le(e,16384),e.v=e.children=e.deps=e.ctx=e.reactions=null}function wi(e){D===null&&F===null&&Ha(e),F!==null&&F.f&256&&Wa(),ao&&Ya(e)}function ju(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function jt(e,t,r,n=!0){var o=(e&64)!==0,i=D;if(w)for(;i!==null&&i.f&262144;)i=i.parent;var s={ctx:B,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:o?null:i,prev:null,teardown:null,transitions:null,version:0};if(w&&(s.component_function=Oe),r){var a=_t;try{gr(!0),Tt(s),s.f|=32768}catch(f){throw ue(s),f}finally{gr(a)}}else t!==null&&Ar(s);var l=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&1048576)===0;if(!l&&!o&&n&&(i!==null&&ju(s,i),F!==null&&F.f&2)){var c=F;(c.children??(c.children=[])).push(s)}return s}function Ye(e){let t=jt(8,null,!1);return le(t,1024),t.teardown=e,t}function Cr(e){wi("$effect");var t=D!==null&&(D.f&32)!==0&&B!==null&&!B.m;if(w&&ie(e,"name",{value:"$effect"}),t){var r=B;(r.e??(r.e=[])).push({fn:e,effect:D,reaction:F})}else{var n=qe(e);return n}}function xr(e){return wi("$effect.pre"),w&&ie(e,"name",{value:"$effect.pre"}),ne(e)}function io(e){let t=jt(64,e,!0);return()=>{ue(t)}}function _l(e){let t=jt(64,e,!0);return(r={})=>new Promise(n=>{r.outro?Qe(t,()=>{ue(t),n(void 0)}):(ue(t),n(void 0))})}function qe(e){return jt(4,e,!1)}function yi(e,t){var r=B,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=ne(()=>{e(),!n.ran&&(n.ran=!0,Z(r.l.r2,!0),z(t))})}function xi(){var e=B;ne(()=>{if(O(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&1024&&le(r,4096),gt(r)&&Tt(r),t.ran=!1}e.l.r2.v=!1}})}function ne(e){return jt(8,e,!0)}function qt(e){return w&&ie(e,"name",{value:"{expression}"}),Ee(e)}function Ee(e,t=0){return jt(24|t,e,!0)}function pe(e,t=!0){return jt(40,e,!0,t)}function Ei(e){var t=e.teardown;if(t!==null){let r=ao,n=F;bi(!0),ve(null);try{t.call(null)}finally{bi(r),ve(n)}}}function Ci(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)un(t[r])}}function ki(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;ue(r,t),r=n}}function gl(e){for(var t=e.first;t!==null;){var r=t.next;t.f&32||ue(t),t=r}}function ue(e,t=!0){var r=!1;if((t||e.f&524288)&&e.nodes_start!==null){for(var n=e.nodes_start,o=e.nodes_end;n!==null;){var i=n===o?null:ge(n);n.remove(),n=i}r=!0}ki(e,t&&!r),Ci(e),Ut(e,0),le(e,16384);var s=e.transitions;if(s!==null)for(let l of s)l.stop();Ei(e);var a=e.parent;a!==null&&a.first!==null&&Ti(e),w&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ti(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Qe(e,t){var r=[];so(e,r,!0),Ii(r,()=>{ue(e),t&&t()})}function Ii(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function so(e,t,r){if(!(e.f&8192)){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&65536)!==0||(n.f&32)!==0;so(n,t,i?r:!1),n=o}}}function $t(e){vl(e,!0)}function vl(e,t){if(e.f&8192){gt(e)&&Tt(e),e.f^=8192;for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;vl(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var qu=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback,lo=!1,co=!1,Ni=[],Pi=[];function bl(){lo=!1;let e=Ni.slice();Ni=[],Yt(e)}function Al(){co=!1;let e=Pi.slice();Pi=[],Yt(e)}function Xe(e){lo||(lo=!0,queueMicrotask(bl)),Ni.push(e)}function wl(e){co||(co=!0,qu(Al)),Pi.push(e)}function yl(){lo&&bl(),co&&Al()}function pn(e){if(w){let t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var Il=0,Ku=1,xl=new WeakSet,fo=!1,uo=Il,dn=!1,kr=null,_t=!1,ao=!1;function gr(e){_t=e}function bi(e){ao=e}var Qt=[],Tr=0,mn=[],F=null;function ve(e){F=e}var D=null;function te(e){D=e}var Ze=null;function tl(e){Ze=e}var se=null,Ie=0,ht=null;function rl(e){ht=e}var Nl=1,vt=!1,nn=null;var B=null;var Oe=null;function sn(){return++Nl}function zt(){return!ot||B!==null&&B.l===null}function gt(e){var t=e.f;if(t&2048)return!0;if(t&4096){var r=e.deps,n=(t&256)!==0;if(r!==null){var o,i,s=(t&512)!==0,a=n&&D!==null&&!vt,l=r.length;if(s||a){for(o=0;o<l;o++)i=r[o],(s||!i?.reactions?.includes(e))&&(i.reactions??(i.reactions=[])).push(e);s&&(e.f^=512)}for(o=0;o<l;o++)if(i=r[o],gt(i)&&vi(i),i.version>e.version)return!0}(!n||D!==null&&!vt)&&le(e,1024)}return!1}function El(e,t){for(var r=t;r!==null;){if(r.f&128)try{r.fn(e);return}catch{r.f^=128}r=r.parent}throw fo=!1,e}function Cl(e){return(e.f&16384)===0&&(e.parent===null||(e.parent.f&128)===0)}function Ir(e,t,r,n){if(fo){if(r===null&&(fo=!1),Cl(t))throw e;return}if(r!==null&&(fo=!0),!w||n===null||!(e instanceof Error)||xl.has(e)){El(e,t);return}xl.add(e);let o=[],i=t.fn?.name;i&&o.push(i);let s=n;for(;s!==null;){if(w){var a=s.function?.[he];if(a){let f=a.split("/").pop();o.push(f)}}s=s.p}let l=/Firefox/.test(navigator.userAgent)?"  ":"	";ie(e,"message",{value:e.message+`
${o.map(f=>`
${l}in ${f}`).join("")}
`}),ie(e,"component_stack",{value:o});let c=e.stack;if(c){let f=c.split(`
`),u=[];for(let p=0;p<f.length;p++){let d=f[p];d.includes("svelte/src/internal")||u.push(d)}ie(e,"stack",{value:u.join(`
`)})}if(El(e,t),Cl(t))throw e}function oo(e){var p;var t=se,r=Ie,n=ht,o=F,i=vt,s=Ze,a=B,l=e.f;se=null,Ie=0,ht=null,F=l&96?null:e,vt=!_t&&(l&256)!==0,Ze=null,B=e.ctx;try{var c=(0,e.fn)(),f=e.deps;if(se!==null){var u;if(Ut(e,Ie),f!==null&&Ie>0)for(f.length=Ie+se.length,u=0;u<se.length;u++)f[Ie+u]=se[u];else e.deps=f=se;if(!vt)for(u=Ie;u<f.length;u++)((p=f[u]).reactions??(p.reactions=[])).push(e)}else f!==null&&Ie<f.length&&(Ut(e,Ie),f.length=Ie);return c}finally{se=t,Ie=r,ht=n,F=o,vt=i,Ze=s,B=a}}function Ju(e,t){let r=t.reactions;if(r!==null){var n=La.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&t.f&2&&(se===null||!se.includes(t))&&(le(t,4096),t.f&768||(t.f^=512),Ut(t,0))}function Ut(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Ju(e,r[n])}function Tt(e){var t=e.f;if(!(t&16384)){le(e,1024);var r=D,n=B;if(D=e,w){var o=Oe;Oe=e.component_function}try{t&16?gl(e):ki(e),Ci(e),Ei(e);var i=oo(e);e.teardown=typeof i=="function"?i:null,e.version=Nl;var s=e.deps;if(w&&it&&e.f&2048&&s!==null)for(let l=0;l<s.length;l++){var a=s[l];a.trace_need_increase&&(a.version=sn(),a.trace_need_increase=void 0,a.trace_v=void 0)}w&&mn.push(e)}catch(l){Ir(l,e,r,n||e.ctx)}finally{D=r,w&&(Oe=o)}}}function kl(){console.error("Last ten effects were: ",mn.slice(-10).map(e=>e.fn)),mn=[]}function Pl(){if(Tr>1e3){Tr=0;try{Va()}catch(e){if(w&&ie(e,"stack",{value:""}),kr!==null)if(w)try{Ir(e,kr,null,null)}catch(t){throw kl(),t}else Ir(e,kr,null,null);else throw w&&kl(),e}}Tr++}function Dl(e){var t=e.length;if(t!==0){Pl();var r=_t;_t=!0;try{for(var n=0;n<t;n++){var o=e[n];o.f&1024||(o.f^=1024);var i=[];$l(o,i),ep(i)}}finally{_t=r}}}function ep(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&24576))try{gt(n)&&(Tt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ti(n):n.fn=null))}catch(o){Ir(o,n,null,n.ctx)}}}function tp(){if(dn=!1,Tr>1001)return;let e=Qt;Qt=[],Dl(e),dn||(Tr=0,kr=null,w&&(mn=[]))}function Ar(e){uo===Il&&(dn||(dn=!0,queueMicrotask(tp))),kr=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&96){if(!(r&1024))return;t.f^=1024}}Qt.push(t)}function $l(e,t){var r=e.first,n=[];e:for(;r!==null;){var o=r.f,i=(o&32)!==0,s=i&&(o&1024)!==0,a=r.next;if(!s&&!(o&8192))if(o&8){if(i)r.f^=1024;else try{gt(r)&&Tt(r)}catch(u){Ir(u,r,null,r.ctx)}var l=r.first;if(l!==null){r=l;continue}}else o&4&&n.push(r);if(a===null){let u=r.parent;for(;u!==null;){if(e===u)break e;var c=u.next;if(c!==null){r=c;continue e}u=u.parent}}r=a}for(var f=0;f<n.length;f++)l=n[f],t.push(l),$l(l,t)}function Nr(e){var t=uo,r=Qt;try{Pl();let o=[];uo=Ku,Qt=o,dn=!1,Dl(r);var n=e?.();return yl(),(Qt.length>0||o.length>0)&&Nr(),Tr=0,kr=null,w&&(mn=[]),n}finally{uo=t,Qt=r}}function O(e){var t=e.f,r=(t&2)!==0;if(r&&t&16384){var n=gi(e);return un(e),n}if(nn!==null&&nn.add(e),F!==null){Ze!==null&&Ze.includes(e)&&qa();var o=F.deps;se===null&&o!==null&&o[Ie]===e?Ie++:se===null?se=[e]:se.push(e),ht!==null&&D!==null&&D.f&1024&&!(D.f&32)&&ht.includes(e)&&(le(D,2048),Ar(D))}else if(r&&e.deps===null)for(var i=e,s=i.parent,a=i;s!==null;)if(s.f&2){var l=s;a=l,s=l.parent}else{var c=s;c.deriveds?.includes(a)||(c.deriveds??(c.deriveds=[])).push(a);break}if(r&&(i=e,gt(i)&&vi(i)),w&&it&&rn!==null&&F!==null&&rn.reaction===F){if(e.debug)e.debug();else if(e.created){var f=rn.entries.get(e);f===void 0&&(f={read:[]},rn.entries.set(e,f)),f.read.push(mt("TracedAt"))}}return e.v}function z(e){let t=F;try{return F=null,e()}finally{F=t}}var rp=-7169;function le(e,t){e.f=e.f&rp|t}function hn(e,t=!1,r){B={p:B,c:null,e:null,m:!1,s:e,x:null,l:null},ot&&!t&&(B.l={s:null,u:null,r1:[],r2:J(!1)}),w&&(B.function=r,Oe=r)}function _n(e){let t=B;if(t!==null){e!==void 0&&(t.x=e);let s=t.e;if(s!==null){var r=D,n=F;t.e=null;try{for(var o=0;o<s.length;o++){var i=s[o];te(i.effect),ve(i.reaction),qe(i.fn)}}finally{te(r),ve(n)}}B=t.p,w&&(Oe=t.p?.function??null),t.m=!0}return e||{}}function Pr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ae in e)ho(e);else if(!Array.isArray(e))for(let t in e){let r=e[t];typeof r=="object"&&r&&Ae in r&&ho(r)}}}function ho(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{ho(e[n],t)}catch{}let r=Ct(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Kn(r);for(let o in n){let i=n[o].get;if(i)try{i.call(e)}catch{}}}}}if(w){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;Za(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}var np=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var Yw=[...np,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume","defaultValue","defaultChecked","srcObject"];var op=["touchstart","touchmove"];function Sl(e){return op.includes(e)}var Rl=new Map;function Ll(e,t){var r=Rl.get(e);r||(r=new Set,Rl.set(e,r)),r.add(t)}var Ml=!1;function _o(){Ml||(Ml=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(let t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Di(e){var t=F,r=D;ve(null),te(null);try{return e()}finally{ve(t),te(r)}}function $i(e,t,r,n=r){e.addEventListener(t,()=>Di(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),_o()}var Bl=new Set,Si=new Set;function gn(e){var t=this,r=t.ownerDocument,n=e.type,o=e.composedPath?.()||[],i=o[0]||e.target,s=0,a=e.__root;if(a){var l=o.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=o.indexOf(t);if(c===-1)return;l<=c&&(s=l)}if(i=o[s]||e.target,i!==t){ie(e,"currentTarget",{configurable:!0,get(){return i||r}});var f=F,u=D;ve(null),te(null);try{for(var p,d=[];i!==null;){var _=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+n];if(g!==void 0&&!i.disabled)if(ze(g)){var[v,...b]=g;v.apply(i,[e,...b])}else g.call(i,e)}catch(S){p?d.push(S):p=S}if(e.cancelBubble||_===t||_===null)break;i=_}if(p){for(let S of d)queueMicrotask(()=>{throw S});throw p}}finally{e.__root=t,delete e.currentTarget,ve(f),te(u)}}}var sp;function Ol(){sp=void 0}function go(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function St(e,t){var r=D;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function Dr(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if(R)return St(Y,null),Y;o===void 0&&(o=go(i?e:"<!>"+e),r||(o=fe(o)));var s=n?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=fe(s),l=s.lastChild;St(a,l)}else St(s,s);return s}}function Rt(e,t){if(R){D.nodes_end=Y,ce();return}e!==null&&e.before(t)}var Ri=!0;function vn(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function Sr(e,t){return Fl(e,t)}function Mi(e,t){no(),t.intro=t.intro??!1;let r=t.target,n=R,o=Y;try{for(var i=fe(r);i&&(i.nodeType!==8||i.data!==_r);)i=ge(i);if(!i)throw kt;ye(!0),q(i),ce();let s=Fl(e,{...t,anchor:i});if(Y===null||Y.nodeType!==8||Y.data!==Vt)throw wr(),kt;return ye(!1),s}catch(s){if(s===kt)return t.recover===!1&&Ga(),no(),cn(r),ye(!1),Sr(e,t);throw s}finally{ye(n),q(o),Ol()}}var $r=new Map;function Fl(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){no();var a=new Set,l=u=>{for(var p=0;p<u.length;p++){var d=u[p];if(!a.has(d)){a.add(d);var _=Sl(d);t.addEventListener(d,gn,{passive:_});var g=$r.get(d);g===void 0?(document.addEventListener(d,gn,{passive:_}),$r.set(d,1)):$r.set(d,g+1)}}};l(en(Bl)),Si.add(l);var c=void 0,f=_l(()=>{var u=r??t.appendChild(je());return pe(()=>{if(i){hn({});var p=B;p.c=i}o&&(n.$$events=o),R&&St(u,null),Ri=s,c=e(u,n)||{},Ri=!0,R&&(D.nodes_end=Y),i&&_n()}),()=>{for(var p of a){t.removeEventListener(p,gn);var d=$r.get(p);--d===0?(document.removeEventListener(p,gn),$r.delete(p)):$r.set(p,d)}Si.delete(l),u!==r&&u.parentNode?.removeChild(u)}});return Li.set(c,f),c}var Li=new WeakMap;function bn(e,t){let r=Li.get(e);return r?(Li.delete(e),r(t)):(w&&ol(),Promise.resolve())}function Bi(e,t,r=!1){R&&ce();var n=e,o=null,i=null,s=K,a=r?65536:0,l=!1;let c=(u,p=!0)=>{l=!0,f(p,u)},f=(u,p)=>{if(s===(s=u))return;let d=!1;if(R){let _=n.data===Ht;!!s===_&&(n=yr(),q(n),ye(!1),d=!0)}s?(o?$t(o):p&&(o=pe(()=>p(n))),i&&Qe(i,()=>{i=null})):(i?$t(i):p&&(i=pe(()=>p(n))),o&&Qe(o,()=>{o=null})),d&&ye(!0)};Ee(()=>{l=!1,t(c),l||f(null,null)},a),R&&(n=Y)}var An=null;function Yi(e,t){return t}function mp(e,t,r,n){for(var o=[],i=t.length,s=0;s<i;s++)so(t[s].e,o,!0);var a=i>0&&o.length===0&&r!==null;if(a){var l=r.parentNode;cn(l),l.append(r),n.clear(),Lt(e,t[0].prev,t[i-1].next)}Ii(o,()=>{for(var c=0;c<i;c++){var f=t[c];a||(n.delete(f.k),Lt(e,f.prev,f.next)),ue(f.e,!a)}})}function Wi(e,t,r,n,o,i=null){var s=e,a={flags:t,items:new Map,first:null},l=(t&4)!==0;if(l){var c=e;s=R?q(fe(c)):c.appendChild(je())}R&&ce();var f=null,u=!1;Ee(()=>{var p=r(),d=ze(p)?p:p==null?[]:en(p),_=d.length;if(u&&_===0)return;u=_===0;let g=!1;if(R){var v=s.data===Ht;v!==(_===0)&&(s=yr(),q(s),ye(!1),g=!0)}if(R){for(var b=null,S,L=0;L<_;L++){if(Y.nodeType===8&&Y.data===Vt){s=Y,g=!0,ye(!1);break}var M=d[L],P=n(M,L);S=Hl(Y,a,b,null,M,P,L,o,t,r),a.items.set(P,S),b=S}_>0&&q(yr())}if(!R){var y=F;hp(d,a,s,o,t,(y.f&8192)!==0,n,r)}i!==null&&(_===0?f?$t(f):f=pe(()=>i(s)):f!==null&&Qe(f,()=>{f=null})),g&&ye(!0),r()}),R&&(s=Y)}function hp(e,t,r,n,o,i,s,a){var l=(o&8)!==0,c=(o&3)!==0,f=e.length,u=t.items,p=t.first,d=p,_,g=null,v,b=[],S=[],L,M,P,y;if(l)for(y=0;y<f;y+=1)L=e[y],M=s(L,y),P=u.get(M),P!==void 0&&(P.a?.measure(),(v??(v=new Set)).add(P));for(y=0;y<f;y+=1){if(L=e[y],M=s(L,y),P=u.get(M),P===void 0){var h=d?d.e.nodes_start:r;g=Hl(h,t,g,g===null?t.first:g.next,L,M,y,n,o,a),u.set(M,g),b=[],S=[],d=g.next;continue}if(c&&_p(P,L,y,o),P.e.f&8192&&($t(P.e),l&&(P.a?.unfix(),(v??(v=new Set)).delete(P))),P!==d){if(_!==void 0&&_.has(P)){if(b.length<S.length){var x=S[0],T;g=x.prev;var $=b[0],I=b[b.length-1];for(T=0;T<b.length;T+=1)Yl(b[T],x,r);for(T=0;T<S.length;T+=1)_.delete(S[T]);Lt(t,$.prev,I.next),Lt(t,g,$),Lt(t,I,x),d=x,g=I,y-=1,b=[],S=[]}else _.delete(P),Yl(P,d,r),Lt(t,P.prev,P.next),Lt(t,P,g===null?t.first:g.next),Lt(t,g,P),g=P;continue}for(b=[],S=[];d!==null&&d.k!==M;)(i||!(d.e.f&8192))&&(_??(_=new Set)).add(d),S.push(d),d=d.next;if(d===null)continue;P=d}b.push(P),g=P,d=P.next}if(d!==null||_!==void 0){for(var C=_===void 0?[]:en(_);d!==null;)(i||!(d.e.f&8192))&&C.push(d),d=d.next;var W=C.length;if(W>0){var ae=o&4&&f===0?r:null;if(l){for(y=0;y<W;y+=1)C[y].a?.measure();for(y=0;y<W;y+=1)C[y].a?.fix()}mp(t,C,ae,u)}}l&&Xe(()=>{if(v!==void 0)for(P of v)P.a?.apply()}),D.first=t.first&&t.first.e,D.last=g&&g.e}function _p(e,t,r,n){n&1&&br(e.v,t),n&2?br(e.i,r):e.i=r}function Hl(e,t,r,n,o,i,s,a,l,c){var f=An,u=(l&1)!==0,p=(l&16)===0,d=u?p?at(o):J(o):o,_=l&2?J(s):s;w&&u&&(d.debug=()=>{var v=typeof _=="number"?s:_.v;c()[v]});var g={i:_,v:d,k:i,a:null,e:null,prev:r,next:n};An=g;try{return g.e=pe(()=>a(e,d,_),R),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?t.first=g:(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{An=f}}function Yl(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=ge(i);o.before(i),i=s}}function Lt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Hi(e,t){Xe(()=>{var r=e.getRootNode(),n=r.host?r:r.head??r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let o=document.createElement("style");o.id=t.hash,o.textContent=t.code,n.appendChild(o),w&&Ll(t.hash,o)}})}function Gi(e){if(R){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;ct(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;ct(e,"checked",null),e.checked=o}}};e.__on_r=r,wl(r),_o()}}function ct(e,t,r,n){var o=e.__attributes??(e.__attributes={});if(R&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||yp(e,t,r??"");return}o[t]!==(o[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Oa]=r),r==null?e.removeAttribute(t):typeof r!="string"&&wp(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var Vl=new Map;function wp(e){var t=Vl.get(e.nodeName);if(t)return t;Vl.set(e.nodeName,t=[]);for(var r,n=e,o=Element.prototype;o!==n;){r=Kn(n);for(var i in r)r[i].set&&t.push(i);n=Ct(n)}return t}function yp(e,t,r){w&&(t==="srcset"&&xp(e,r)||Vi(e.getAttribute(t)??"",r)||nl(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Vi(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function Gl(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function xp(e,t){var r=Gl(e.srcset),n=Gl(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Vi(r[s][0],o)||Vi(o,r[s][0])))}function wn(e,t,r){var n=e.__className,o=Ep(t,r);R&&e.className===o?e.__className=o:(n!==o||R&&e.className!==o)&&(t==null&&!r?e.removeAttribute("class"):e.className=o,e.__className=o)}function Ep(e,t){return(e??"")+(t?" "+t:"")}function zi(e,t,r=t){$i(e,"change",n=>{var o=n?e.defaultChecked:e.checked;r(o)}),(R&&e.defaultChecked!==e.checked||z(t)==null)&&r(e.checked),ne(()=>{var n=t();e.checked=!!n})}function Zi(e=!1){let t=B,r=t.l.u;if(!r)return;let n=()=>Pr(t.s);if(e){let o=0,i={},s=Zt(()=>{let a=!1,l=t.s;for(let c in l)l[c]!==i[c]&&(i[c]=l[c],a=!0);return a&&o++,o});n=()=>O(s)}r.b.length&&xr(()=>{zl(t,n),Yt(r.b)}),Cr(()=>{let o=z(()=>r.m.map(Ba));return()=>{for(let i of o)typeof i=="function"&&i()}}),r.a.length&&Cr(()=>{zl(t,n),Yt(r.a)})}function zl(e,t){if(e.l.s)for(let r of e.l.s)O(r);t()}function Ui(e,t,r){if(e==null)return t(void 0),r&&r(void 0),be;let n=z(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}var bo=!1;function Rr(e,t,r){let n=r[t]??(r[t]={store:null,source:at(void 0),unsubscribe:be});if(n.store!==e)if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=be;else{var o=!0;n.unsubscribe=Ui(e,i=>{o?n.source.v=i:Z(n.source,i)}),o=!1}return O(n.source)}function ji(){let e={};return Ye(()=>{for(var t in e)e[t].unsubscribe()}),e}function qi(e){var t=bo;try{return bo=!1,[e(),bo]}finally{bo=t}}function Zl(e){for(var t=D,r=D;t!==null&&!(t.f&96);)t=t.parent;try{return te(t),e()}finally{te(r)}}function yn(e,t,r,n){var o=(r&1)!==0,i=!ot||(r&2)!==0,s=(r&8)!==0,a=(r&16)!==0,l=!1,c;s?[c,l]=qi(()=>e[t]):c=e[t];var f=Ae in e||Jn in e,u=Le(e,t)?.set??(f&&s&&t in e?h=>e[t]=h:void 0),p=n,d=!0,_=!1,g=()=>(_=!0,d&&(d=!1,a?p=z(n):p=n),p);c===void 0&&n!==void 0&&(u&&i&&za(t),c=g(),u&&u(c));var v;if(i)v=()=>{var h=e[t];return h===void 0?g():(d=!0,_=!1,h)};else{var b=Zl(()=>(o?Zt:fn)(()=>e[t]));b.f|=131072,v=()=>{var h=O(b);return h!==void 0&&(p=void 0),h===void 0?p:h}}if(!(r&4))return v;if(u){var S=e.$$legacy;return function(h,x){return arguments.length>0?((!i||!x||S||l)&&u(x?v():h),h):v()}}var L=!1,M=!1,P=at(c),y=Zl(()=>Zt(()=>{var h=v(),x=O(P);return L?(L=!1,M=!0,x):(M=!1,P.v=h)}));return o||(y.equals=hr),function(h,x){if(nn!==null&&(L=M,v(),O(P)),arguments.length>0){let T=x?O(y):i&&s?It(h):h;return y.equals(T)||(L=!0,Z(P,T),_&&p!==void 0&&(p=T),z(()=>O(y))),h}return O(y)}}function Ul(e){return new Qi(e)}var bt,We,Qi=class{constructor(t){Cn(this,bt);Cn(this,We);var r=new Map,n=(i,s)=>{var a=at(s);return r.set(i,a),a};let o=new Proxy({...t.props||{},$$events:{}},{get(i,s){return O(r.get(s)??n(s,Reflect.get(i,s)))},has(i,s){return s===Jn?!0:(O(r.get(s)??n(s,Reflect.get(i,s))),Reflect.has(i,s))},set(i,s,a){return Z(r.get(s)??n(s,a),a),Reflect.set(i,s,a)}});kn(this,We,(t.hydrate?Mi:Sr)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:t.intro??!1,recover:t.recover})),(!t?.props?.$$host||t.sync===!1)&&Nr(),kn(this,bt,o.$$events);for(let i of Object.keys(de(this,We)))i==="$set"||i==="$destroy"||i==="$on"||ie(this,i,{get(){return de(this,We)[i]},set(s){de(this,We)[i]=s},enumerable:!0});de(this,We).$set=i=>{Object.assign(o,i)},de(this,We).$destroy=()=>{bn(de(this,We))}}$set(t){de(this,We).$set(t)}$on(t,r){de(this,bt)[t]=de(this,bt)[t]||[];let n=(...o)=>r.call(this,...o);return de(this,bt)[t].push(n),()=>{de(this,bt)[t]=de(this,bt)[t].filter(o=>o!==n)}}$destroy(){de(this,We).$destroy()}};bt=new WeakMap,We=new WeakMap;var Wp;typeof HTMLElement=="function"&&(Wp=class extends HTMLElement{constructor(t,r,n){super();Ne(this,"$$ctor");Ne(this,"$$s");Ne(this,"$$c");Ne(this,"$$cn",!1);Ne(this,"$$d",{});Ne(this,"$$r",!1);Ne(this,"$$p_d",{});Ne(this,"$$l",{});Ne(this,"$$l_u",new Map);Ne(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),Rt(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=Hp(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=Xi(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=Ul({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=io(()=>{ne(()=>{this.$$r=!0;for(let o of oi(this.$$c)){if(!this.$$p_d[o]?.reflect)continue;this.$$d[o]=this.$$c[o];let i=Xi(o,this.$$d[o],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,i)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){this.$$r||(t=this.$$g_p(t),this.$$d[t]=Xi(t,n,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return oi(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function Xi(e,t,r,n){let o=r[e]?.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Hp(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}function Ki(e){B===null&&pn("onMount"),ot&&B.l!==null?qp(B).m.push(e):Cr(()=>{let t=z(e);if(typeof t=="function")return t})}function ql(e){B===null&&pn("onDestroy"),Ki(()=>()=>z(e))}function qp(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var Lr=[];function Xt(e,t=be){let r=null,n=new Set;function o(a){if(tn(e,a)&&(e=a,r)){let l=!Lr.length;for(let c of n)c[1](),Lr.push(c,e);if(l){for(let c=0;c<Lr.length;c+=2)Lr[c][0](Lr[c+1]);Lr.length=0}}}function i(a){o(a(e))}function s(a,l=be){let c=[a,l];return n.add(c),n.size===1&&(r=t(o,i)||be),a(e),()=>{n.delete(c),n.size===0&&r&&(r(),r=null)}}return{set:o,update:i,subscribe:s}}var Ao=Xt(new tt([],!1)),wo=Xt(new Date),yo=Xt([]),xo=Xt([]);var Ql="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ql);Xa();var Xp=Dr('<div><div class="event_item_contents svelte-1w1uwcg"><div></div> <div class="ei_Item svelte-1w1uwcg"><span class="ei_Title svelte-1w1uwcg"> </span> <span class="ei_Copy svelte-1w1uwcg"> </span></div></div></div>'),Kp=Dr('<div><div class="aside__line filled__line svelte-1w1uwcg"><div class="filled__line__completed svelte-1w1uwcg"></div></div></div> <div class="events svelte-1w1uwcg"></div> <div id="now-line" class="svelte-1w1uwcg"><span class="timeline-time svelte-1w1uwcg"> </span></div> <div id="scroll-controls" class="svelte-1w1uwcg"><label for="auto-scroll" class="svelte-1w1uwcg">Track time</label> <input id="auto-scroll" type="checkbox" class="toggle svelte-1w1uwcg"></div>',1),Jp=Dr('<div class="empty-timeline svelte-1w1uwcg">No Planner Data</div>'),ed=Dr('<div id="day-planner-timeline-container" class="svelte-1w1uwcg"><!></div>'),td={hash:"svelte-1w1uwcg",code:`#day-planner-timeline-container.svelte-1w1uwcg {position:relative;}.aside.svelte-1w1uwcg {position:absolute;top:-1px;left:0;width:65px;height:100%;background-repeat:repeat-y;opacity:80%;}.aside-x5.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAEsCAYAAADHIkNEAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAABLAAAAAAuMW7GAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAsElEQVR4Ae3ZMQoAIAgFUL3/ocsO0GBLFE9wESJ8jj8jYlQrAgQIECBAgAABAgQIECBAgAABAgQIECBAgACBbwWyNutGQuuNIkCAAAECBAgQIECAAAECBAgQIECAAAECBAgQeEbgJBLaLScq2smYEyBAgAABAgQIECBAgAABAgQIECBAgAABAgSuCpxEQqKfqyfzOQECBAgQIECAAAECBAgQIECAAAECBAgQIECgKzABwWUEBHBCyqYAAAAASUVORK5CYII=);}.aside-x4.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAADwCAYAAAAEqZSkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAA8AAAAABUK6+SAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA2klEQVR4Ae3bMQqEMBBA0QT2Bh7G+5d2e5G9wRZruliM6CCBsE8QQghxeOUHaynlvb/zPHUf9TXPuCYlQIAAAQIECBAgQIAAAQIECBAg8N8CLegtNwk+V863i7crB7sza7cev8y0ze/4MX2RAAECBAgQIECAAAECBAgQIECAAIEmkGmbkdyheWbaZnTxmOaZaZvRxJpnJGOfAAECBAgQIECAAAECBAgQIECAwEMCmbZ5aJjRHJm2OaZhnk189590DTPStE+AAAECBAgQIECAAAECBAgQIEBgVoEfgLcJ4JWKwMAAAAAASUVORK5CYII=);}.aside-x3.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAC0CAYAAACQYNzeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAtAAAAAD5WFEbAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAA6UlEQVRoBe3XQQrCQAwF0Bb0Hr2heB4v14MIOtmli8GmlFHhBQbimA7h7f48TdOjnf+pua16/Z91bUqAAAECBAgQIECAAAECHwQi58Wp1KsyfPpsbLsUX133zF/a0G3PYJq5p358GxSxdaWelWGzBAgQIECAAAECBAgQIDBUIHJenDNqTHiPbZcz1m1vrPmdIyE9f5/7MeE9KKohPW+Ze+E9a+gJECBAgAABAgQIECDwHYHIeXEqNSaM9zaKbZfen537tXO/uT4S0seE8c2a6UdQVEO6MJ4AtQQIECBAgAABAgQIECDwqwJv9lMMWDcoNMAAAAAASUVORK5CYII=);}.aside-x2.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAB4CAYAAAD2SgIRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAeAAAAADVvVTBAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAAt0lEQVRoBe3YMQqAMAyF4VYUD+Ii7p7JK7t4EkVsnOoSEtql+AuC2GdIPxxCYwhhS3c7V0ytju20S6cIIIAAAggg8EcBGVh658YvZ75uXDqenSV3S14YFkswy5gKZ3keEUAAAQQQQACBnwnI7NZV2vNdqY5eRjqe9Ih59ciTMm2u+YuC50/hgjr6p0Ix6BHz6mlOEkQAAQQQQAABBBwCMrBwtvmCcbbp+G+IIoAAAggggAACCDgFHqn/Cpqy3VM1AAAAAElFTkSuQmCC);}.aside-x1.svelte-1w1uwcg {background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAA8CAYAAABig0prAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAEARIAAwAAAAEAAQAAARoABQAAAAEAAAA+ARsABQAAAAEAAABGh2kABAAAAAEAAABOAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAPAAAAAB4zqpIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwMDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrL2/xqAAAArElEQVRYCe2VSwqAMAxEW3WjK3eCHsT7H0bBQ/jp7LqokIQirUyhUMIkJA8y9c65Ndx6jg+tdvW0y05J4CcEsHmtcpZTqc8rR8eLsuQm0cOAeomwGA1Q4GrOrRFTSwIkkCCArWsScUvosiSpc9DxrM5KJ+xxGLY5xIHi3xbbfBuKdvpGhnESqJ8AvGJSjnFI9LDNUSKMNKLCkT7v0/LnffO35Z2T1UiABAol8ACZ6QleECm8BQAAAABJRU5ErkJggg==);}.aside__line.svelte-1w1uwcg {position:absolute;left:65px;transform:translateX(-50%);width:4px;height:100%;background:var(--aside-line);}.filled.svelte-1w1uwcg {transform-origin:top center;z-index:1;
        animation: scaleDown 1s ease-in-out;animation-fill-mode:forwards;}.filled__line__completed.svelte-1w1uwcg {position:absolute;top:0;left:0;width:100%;}.events.svelte-1w1uwcg {position:relative;padding-bottom:50px;}.event_item.svelte-1w1uwcg {background-color:var(--event-color);border-bottom:2px solid var(--background-primary);margin:0;cursor:pointer;padding:5px 10px 10px 0;width:100%;overflow:hidden;}.event_item.short.svelte-1w1uwcg {padding:0;}.event_item.svelte-1w1uwcg:hover {background-color:var(--event-hover);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);}.event_item_contents.svelte-1w1uwcg {padding-left:58px;}.ei_Copy.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg {color:var(--text-on-accent);}.ei_Dot.svelte-1w1uwcg {display:inline-block;position:absolute;border-radius:50%;width:14px;height:14px;margin-top:5px;background-color:var(--aside-dot);box-shadow:0px 0px 52px -18px rgba(0, 0, 0, 0.75);z-index:2;}.dot_active.svelte-1w1uwcg {background-color:var(--active-dot);}.ei_Item.svelte-1w1uwcg {padding-left:40px;text-indent:-20px;}.ei_Title.svelte-1w1uwcg {padding-right:10px;}.ei_Copy.svelte-1w1uwcg {font-size:15px;}.header_title.svelte-1w1uwcg,
    .ei_Title.svelte-1w1uwcg,
    .ce_title.svelte-1w1uwcg {color:#fff;}#now-line.svelte-1w1uwcg {height:4px;background-color:darkred;opacity:80%;position:absolute;z-index:3;width:100%;}#now-line.svelte-1w1uwcg .timeline-time:where(.svelte-1w1uwcg) {position:relative;left:5px;top:0;background-color:darkred;color:#fff;padding:0 4px 2px 4px;border-radius:0 0 4px 4px;text-align:center;}#scroll-controls.svelte-1w1uwcg {background-color:var(--background-secondary);position:sticky;bottom:0;width:100%;z-index:4;padding:8px 15px;text-align:center;height:45px;}#scroll-controls.svelte-1w1uwcg label:where(.svelte-1w1uwcg) {display:block;float:left;margin:2px;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg) {-webkit-appearance:none;-moz-appearance:none;appearance:none;width:50px;height:20px;display:block;float:left;position:relative;margin-top:5px;border-radius:50px;overflow:hidden;outline:none;border:none;cursor:pointer;background-color:var(--background-secondary-alt);transition:background-color ease 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):before {content:"on    ";display:block;position:absolute;z-index:2;width:17px;height:17px;background:#fff;left:2px;top:1px;border-radius:50%;font:9px/18px Helvetica;text-transform:uppercase;font-weight:bold;text-indent:-24px;word-spacing:30px;color:#fff;text-shadow:-1px -1px rgba(0, 0, 0, 0.15);white-space:nowrap;box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);transition:all cubic-bezier(0.3, 1.5, 0.7, 1) 0.3s;}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked {background-color:var(--interactive-accent);}#scroll-controls.svelte-1w1uwcg .toggle:where(.svelte-1w1uwcg):checked:before {left:31px;}#scroll-controls.svelte-1w1uwcg input[type="checkbox"]:where(.svelte-1w1uwcg):checked:after {background-color:transparent;}.empty-timeline.svelte-1w1uwcg {text-align:center;vertical-align:middle;margin-top:50%;}`};function Ji(e,t){hn(t,!1),Hi(e,td);let r=ji(),n=()=>Rr(wo,"$now",r),o=()=>Rr(Ao,"$planSummary",r),i=()=>Rr(yo,"$timelineColors",r),s=()=>Rr(xo,"$timelineHoverColors",r),a=window.moment,l=/\[([^\]]+)\]\(([^)]+)\)/g,c=/\[\[([^\]|]+)(\|([^\]]+))?\]\]/g,f=yn(t,"lineColor",8),u=yn(t,"zoomLevel",8),p=yn(t,"rootEl",8);V.getInstance().logDebug("TimelineView.onOpen",{zoomLevel:u(),rootEl:p()});let d=on(0),_=on(0),g=on(!0);function v(I){return a.duration(a(I).format("HH:mm")).asMinutes()*u()}Ki(()=>{L()}),ql(()=>{M()});function b(I){let C=[];return I.durationMins<75/u()&&C.push("short"),I.isPast&&C.push("past"),I.isBreak&&C.push("break"),C.join(" ")}function S(I){let C=I.text??"";return C=C.replace(l,(W,ae,ft)=>`${ae}`),C=C.replace(c,(W,ae,ft,Ke)=>`${Ke||ae}`),C}function L(){p().addEventListener("scroll",y)}function M(){p().removeEventListener("scroll",y)}function P(I){O(g)&&!o().current?.isEnd&&(M(),p().scrollTo({left:0,top:I,behavior:"smooth"}),setTimeout(L,1e3))}function y(){Z(g,!1)}yi(()=>(n(),o(),O(d),Pr(u())),()=>{let I=n(),C=o(),W=C.items.first();Z(d,C.empty?0:v(I)-v(W.time)),Z(_,C.empty?0:W.time.getMinutes()*u()*-1-1),P(O(d)-150)}),xi(),Zi();var h=ed(),x=Te(h);{var T=I=>{var C=Kp(),W=di(C),ae=Te(W),ft=Te(ae);xe(ae),xe(W);var Ke=Nt(W,2);Wi(Ke,5,()=>o().items,Yi,(Br,et,es)=>{var Kt=Xp();let Jl=fn(()=>`event_item ${b(O(et))??""} svelte-1w1uwcg`);var ts=Te(Kt),rs=Te(ts),ns=Nt(rs,2),Io=Te(ns),ec=Te(Io,!0);xe(Io);var os=Nt(Io,2),tc=Te(os,!0);qt(()=>vn(tc,S(O(et)))),xe(os),xe(ns),xe(ts),xe(Kt),qt(()=>{wn(Kt,O(Jl)),ct(Kt,"style",`height: ${O(et).durationMins*u()}px; --event-color: ${i()[es]??""}; --event-hover: ${s()[es]??""};`),ct(Kt,"data-title",O(et).rawTime),wn(rs,`ei_Dot ${(O(et)===o().current?"dot_active":"")??""} svelte-1w1uwcg`),vn(ec,O(et).rawTime)}),Rt(Br,Kt)}),xe(Ke);var Je=Nt(Ke,2),Mr=Te(Je),ko=Te(Mr,!0);qt(()=>vn(ko,a(n()).format("HH:mm"))),xe(Mr),xe(Je);var To=Nt(Je,2),En=Nt(Te(To),2);Gi(En),xe(To),qt(()=>{wn(W,`aside aside-x${u()??""} filled svelte-1w1uwcg`),ct(W,"style",`top: ${O(_)??""}px;`),ct(ft,"style",`height: ${O(d)??""}px;`),ct(Je,"style",`top:${O(d)??""}px; display: ${(o().current&&!o().current.isEnd?"block":"none")??""}`)}),zi(En,()=>O(g),Br=>Z(g,Br)),Rt(I,C)},$=I=>{var C=Jp();Rt(I,C)};Bi(x,I=>{o().items.length>0?I(T):I($,!1)})}xe(h),qt(()=>ct(h,"style",`--aside-line: color-mix(in srgb, ${f()??""} 40%, transparent); --aside-dot: color-mix(in srgb, ${f()??""} 60%, transparent); --active-dot: ${f()??""}`)),Rt(e,h),_n()}var xn=class extends Xl.ItemView{constructor(t,r,n){super(t),this.settings=r}getViewType(){return tr}getDisplayText(){return"Day Planner Timeline"}getIcon(){return this.settings.timelineIcon}update(t){if(!this.colors||t.items.length!==this.colors.length){let r=this.settings.timelineColorBegin||j.timelineColorBegin,n=this.settings.timelineColorEnd||j.timelineColorEnd,o=this.settings.timelineHoverColorBegin||j.timelineHoverColorBegin,i=this.settings.timelineHoverColorEnd||j.timelineHoverColorEnd;this.colors=ri.scale([r,n]).mode("lch").colors(t.items.length,"hex"),this.hoverColors=ri.scale([o,i]).mode("lch").colors(t.items.length,"hex"),yo.set(this.colors),xo.set(this.hoverColors)}Ao.set(t),wo.set(new Date)}async onOpen(){this.component=Sr(Ji,{target:this.contentEl,props:{lineColor:this.settings.lineColor||j.lineColor,zoomLevel:this.settings.timelineZoomLevel||4,rootEl:this.contentEl}})}async onClose(){bn(this.component)}};var Eo=class extends Co.Plugin{constructor(){super(...arguments);this.layoutReady=async()=>{this.file=new Zr(this.vault,this.settings),this.setTicker();let r=this.syncPlugin?.instance!==void 0;this.device=r?this.syncPlugin.instance.deviceName.length>0?this.syncPlugin.instance.deviceName:this.syncPlugin.instance.getDefaultDeviceName():"Unknown",V.getInstance().logInfo("Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter());let n=new jr;this.parser=new Ur(this.settings),this.plannerMD=new nr(this.app.workspace,this.settings,this.file,this.parser,n),this.statusBar=new qr(this.settings,this.addStatusBarItem(),this.app.workspace,n,new nr(this.app.workspace,this.settings,this.file,this.parser,n),this.file),this.statusBar.initStatusBar(),window.dayPlanner={resolvePath:this.resolvePath.bind(this)}};this.codeMirror=r=>{this.file.hasTodayNote()&&this.plannerMD.checkIsDayPlannerEditing()}}get syncPlugin(){return this.app.internalPlugins.getPluginById("sync")}async onload(){V.getInstance().logInfo(`Loading Day Planner plugin v${this.manifest.version}`),this.vault=this.app.vault,this.settings=Object.assign(new In,await this.loadData()),V.getInstance().updateSettings(this.settings),this.notesForDatesQuery=new At,this.registerEvent(this.app.vault.on("modify",this.codeMirror,"")),this.addCommand({id:"app:add-to-note",name:"Add a Day Planner template for today to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!0)),hotkeys:[]}),this.addCommand({id:"app:link-to-note",name:"Link today's Day Planner to the current note",callback:()=>this.modeGuard(async()=>await this.insertDayPlannerIntoCurrentNote(!1)),hotkeys:[]}),this.addCommand({id:"app:unlink-from-note",name:"Unlink today's Day Planner from its note",callback:()=>this.modeGuard(async()=>await this.unlinkDayPlanner()),hotkeys:[]}),this.addCommand({id:"app:show-timeline",name:"Show the Day Planner Timeline",callback:()=>this.initLeaf(),hotkeys:[]}),this.addCommand({id:"app:show-today-note",name:"Show today's Day Planner",callback:()=>this.app.workspace.openLinkText(this.file.todayPlannerFilePath(),"",!0),hotkeys:[]}),this.addCommand({id:"app:set-as-writer",name:`Set current device '${this.device}' as writer`,callback:async()=>{this.settings.writer=this.device,this.save()},hotkeys:[]}),this.registerView(tr,r=>(this.timelineView=new xn(r,this.settings,new tt([],this.isWriter())),this.timelineView)),this.addSettingTab(new $n(this.app,this)),this.register(()=>{window.dayPlanner=void 0}),this.app.workspace.onLayoutReady(this.layoutReady)}async onunload(){this.interval&&(V.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval))}async handleConfigFileChange(){await super.handleConfigFileChange(),this.settings=Object.assign(this.settings,await this.loadData()),this.parser.updateSettings(this.settings),V.getInstance().updateSettings(this.settings);let r=await this.file.hasTodayNote();V.getInstance().logInfo("update Device/Writer:",this.settings.mode,this.device,this.settings.writer,this.isWriter(),r)}isWriter(){return this.device==="Unknown"||!this.settings.writer||this.settings.writer===this.device}setTicker(){this.interval&&(V.getInstance().logDebug("Clearing ticker"),window.clearInterval(this.interval),this.interval=void 0),V.getInstance().logDebug("set Ticker with Device/Writer:",this.device,this.settings.writer,this.isWriter()),this.interval=window.setInterval(()=>this.tick(),2e3)}async tick(){try{if(await this.file.hasTodayNote()){let r=await this.plannerMD.processDayPlanner(this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}else if(this.settings.mode==="Daily"&&(0,Kl.appHasDailyNotesPluginLoaded)()){let r=new tt([],this.isWriter());await this.statusBar.refreshStatusBar(r),this.timelineView?.update(r)}}catch(r){V.getInstance().logError("error refreshing plan (tick)",r)}}initLeaf(){this.app.workspace.getLeavesOfType(tr).length>0||this.app.workspace.getRightLeaf(!0).setViewState({type:tr})}modeGuard(r){if(this.settings.mode!=="Command"){new Notification("Day Planner plugin in File mode",{silent:!0,body:"Switch to Command mode in settings to use this command"});return}r()}async insertDayPlannerIntoCurrentNote(r){try{let o=this.app.workspace.getActiveViewOfType(Co.MarkdownView).file.path,i=this.notesForDatesQuery.exists(this.settings.notesToDates),s=this.notesForDatesQuery.active(this.settings.notesToDates)?.notePath;if(this.settings.notesToDates=this.settings.notesToDates||[],i&&s!==o){new Notification("Day Planner exists",{silent:!0,body:`A Day Planner for today already exists in ${s}`});return}i?this.settings.notesToDates||(this.settings.notesToDates=[]):this.settings.notesToDates=[new rr(o,new Date().toDateString())],await this.save(),r&&this.plannerMD.insertPlanner()}catch(n){console.error(n)}}async unlinkDayPlanner(){try{let r=this.notesForDatesQuery.active(this.settings.notesToDates);if(!r){new Notification("No Day Planner found",{silent:!0,body:"No Day Planner found for today"});return}this.settings.notesToDates=this.settings.notesToDates||[],this.settings.notesToDates.remove(r),await this.save(),this.statusBar.hide(this.statusBar.statusBar),this.timelineView?.update(new tt([],this.isWriter())),new Notification("Day Planner reset",{silent:!0,body:`The Day Planner for today has been dissociated from ${r.notePath} and can be added to another note`})}catch(r){console.error(r)}}async save(){await this.saveData(this.settings)}resolvePath(r){let n=this.file.todayPlannerFilePath();return this.app.metadataCache.getFirstLinkpathDest(r,n).path}};
/*! Bundled license information:

chroma-js/src/utils/contrastAPCA.js:
  (**
   * @license
   *
   * The APCA contrast prediction algorithm is based of the formulas published
   * in the APCA-1.0.98G specification by Myndex. The specification is available at:
   * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
   *
   * Note that the APCA implementation is still beta, so please update to
   * future versions of chroma.js when they become available.
   *
   * You can read more about the APCA Readability Criterion at
   * https://readtech.org/ARC/
   *)
*/
